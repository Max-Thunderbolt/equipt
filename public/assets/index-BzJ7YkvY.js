const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./HomePage-Cmusl6Bb.js","./HomePage-CgAU_g5C.css","./ProfilePage-DNa9Kxgj.js","./FilesGrid-DK2Ef0U4.js","./FilesGrid-Br0756oz.css","./ProfilePage-BjdFPATp.css","./ProjectsPage-HhW5X_8o.js","./ProjectsPage-Dg3N4spf.css","./ProjectDetails-CYmXp3bP.js","./ProjectDetails-tn0RQdqM.css","./FilesPage-B1P7VyJq.js","./FilesPage-CvfRjw7S.css","./ExplorePage-CXq2wVgM.js","./ExplorePage-zfeVwcYw.css","./ShowcasePage-O3UFR43R.js","./ShowcasePage-CKJ8Gl58.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function An(e,t){const r=new Set(e.split(","));return s=>r.has(s)}const oe={},nr=[],Ue=()=>{},dl=()=>!1,Ts=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),xn=e=>e.startsWith("onUpdate:"),be=Object.assign,jn=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},fl=Object.prototype.hasOwnProperty,W=(e,t)=>fl.call(e,t),M=Array.isArray,ir=e=>Jr(e)==="[object Map]",_r=e=>Jr(e)==="[object Set]",li=e=>Jr(e)==="[object Date]",V=e=>typeof e=="function",ue=e=>typeof e=="string",kt=e=>typeof e=="symbol",ne=e=>e!==null&&typeof e=="object",jo=e=>(ne(e)||V(e))&&V(e.then)&&V(e.catch),$o=Object.prototype.toString,Jr=e=>$o.call(e),pl=e=>Jr(e).slice(8,-1),Io=e=>Jr(e)==="[object Object]",$n=e=>ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Tr=An(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rs=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},gl=/-(\w)/g,Ze=Rs(e=>e.replace(gl,(t,r)=>r?r.toUpperCase():"")),_l=/\B([A-Z])/g,mr=Rs(e=>e.replace(_l,"-$1").toLowerCase()),Cs=Rs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ks=Rs(e=>e?`on${Cs(e)}`:""),Pt=(e,t)=>!Object.is(e,t),us=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},ys=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Mr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ci;const Lo=()=>ci||(ci=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function In(e){if(M(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],n=ue(s)?wl(s):In(s);if(n)for(const i in n)t[i]=n[i]}return t}else if(ue(e)||ne(e))return e}const ml=/;(?![^(]*\))/g,vl=/:([^]+)/,yl=/\/\*[^]*?\*\//g;function wl(e){const t={};return e.replace(yl,"").split(ml).forEach(r=>{if(r){const s=r.split(vl);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ln(e){let t="";if(ue(e))t=e;else if(M(e))for(let r=0;r<e.length;r++){const s=Ln(e[r]);s&&(t+=s+" ")}else if(ne(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const bl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",El=An(bl);function Uo(e){return!!e||e===""}function Sl(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=Wr(e[s],t[s]);return r}function Wr(e,t){if(e===t)return!0;let r=li(e),s=li(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=kt(e),s=kt(t),r||s)return e===t;if(r=M(e),s=M(t),r||s)return r&&s?Sl(e,t):!1;if(r=ne(e),s=ne(t),r||s){if(!r||!s)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Wr(e[o],t[o]))return!1}}return String(e)===String(t)}function Un(e,t){return e.findIndex(r=>Wr(r,t))}const ge=e=>ue(e)?e:e==null?"":M(e)||ne(e)&&(e.toString===$o||!V(e.toString))?JSON.stringify(e,Do,2):String(e),Do=(e,t)=>t&&t.__v_isRef?Do(e,t.value):ir(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,n],i)=>(r[zs(s,i)+" =>"]=n,r),{})}:_r(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>zs(r))}:kt(t)?zs(t):ne(t)&&!M(t)&&!Io(t)?String(t):t,zs=(e,t="")=>{var r;return kt(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ne;class kl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ne,!t&&Ne&&(this.index=(Ne.scopes||(Ne.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Ne;try{return Ne=this,t()}finally{Ne=r}}}on(){Ne=this}off(){Ne=this.parent}stop(t){if(this._active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Pl(e,t=Ne){t&&t.active&&t.effects.push(e)}function Ol(){return Ne}let Mt;class Dn{constructor(t,r,s,n){this.fn=t,this.trigger=r,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Pl(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Bt();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(Tl(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),qt()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Et,r=Mt;try{return Et=!0,Mt=this,this._runnings++,ui(this),this.fn()}finally{hi(this),this._runnings--,Mt=r,Et=t}}stop(){var t;this.active&&(ui(this),hi(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Tl(e){return e.value}function ui(e){e._trackId++,e._depsLength=0}function hi(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Mo(e.deps[t],e);e.deps.length=e._depsLength}}function Mo(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let Et=!0,an=0;const No=[];function Bt(){No.push(Et),Et=!1}function qt(){const e=No.pop();Et=e===void 0?!0:e}function Mn(){an++}function Nn(){for(an--;!an&&ln.length;)ln.shift()()}function Fo(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Mo(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ln=[];function Bo(e,t,r){Mn();for(const s of e.keys()){let n;s._dirtyLevel<t&&(n??(n=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(n??(n=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&ln.push(s.scheduler)))}Nn()}const qo=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},cn=new WeakMap,Nt=Symbol(""),un=Symbol("");function Te(e,t,r){if(Et&&Mt){let s=cn.get(e);s||cn.set(e,s=new Map);let n=s.get(r);n||s.set(r,n=qo(()=>s.delete(r))),Fo(Mt,n)}}function nt(e,t,r,s,n,i){const o=cn.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&M(e)){const l=Number(s);o.forEach((u,c)=>{(c==="length"||!kt(c)&&c>=l)&&a.push(u)})}else switch(r!==void 0&&a.push(o.get(r)),t){case"add":M(e)?$n(r)&&a.push(o.get("length")):(a.push(o.get(Nt)),ir(e)&&a.push(o.get(un)));break;case"delete":M(e)||(a.push(o.get(Nt)),ir(e)&&a.push(o.get(un)));break;case"set":ir(e)&&a.push(o.get(Nt));break}Mn();for(const l of a)l&&Bo(l,4);Nn()}const Rl=An("__proto__,__v_isRef,__isVue"),Vo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(kt)),di=Cl();function Cl(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const s=G(this);for(let i=0,o=this.length;i<o;i++)Te(s,"get",i+"");const n=s[t](...r);return n===-1||n===!1?s[t](...r.map(G)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Bt(),Mn();const s=G(this)[t].apply(this,r);return Nn(),qt(),s}}),e}function Al(e){const t=G(this);return Te(t,"has",e),t.hasOwnProperty(e)}class Ho{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Vl:Wo:i?Jo:zo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=M(t);if(!n){if(o&&W(di,r))return Reflect.get(di,r,s);if(r==="hasOwnProperty")return Al}const a=Reflect.get(t,r,s);return(kt(r)?Vo.has(r):Rl(r))||(n||Te(t,"get",r),i)?a:Re(a)?o&&$n(r)?a:a.value:ne(a)?n?Qo(a):xs(a):a}}class Ko extends Ho{constructor(t=!1){super(!1,t)}set(t,r,s,n){let i=t[r];if(!this._isShallow){const l=ur(i);if(!ws(s)&&!ur(s)&&(i=G(i),s=G(s)),!M(t)&&Re(i)&&!Re(s))return l?!1:(i.value=s,!0)}const o=M(t)&&$n(r)?Number(r)<t.length:W(t,r),a=Reflect.set(t,r,s,n);return t===G(n)&&(o?Pt(s,i)&&nt(t,"set",r,s):nt(t,"add",r,s)),a}deleteProperty(t,r){const s=W(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&s&&nt(t,"delete",r,void 0),n}has(t,r){const s=Reflect.has(t,r);return(!kt(r)||!Vo.has(r))&&Te(t,"has",r),s}ownKeys(t){return Te(t,"iterate",M(t)?"length":Nt),Reflect.ownKeys(t)}}class xl extends Ho{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const jl=new Ko,$l=new xl,Il=new Ko(!0),Fn=e=>e,As=e=>Reflect.getPrototypeOf(e);function Zr(e,t,r=!1,s=!1){e=e.__v_raw;const n=G(e),i=G(t);r||(Pt(t,i)&&Te(n,"get",t),Te(n,"get",i));const{has:o}=As(n),a=s?Fn:r?Vn:Nr;if(o.call(n,t))return a(e.get(t));if(o.call(n,i))return a(e.get(i));e!==n&&e.get(t)}function es(e,t=!1){const r=this.__v_raw,s=G(r),n=G(e);return t||(Pt(e,n)&&Te(s,"has",e),Te(s,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function ts(e,t=!1){return e=e.__v_raw,!t&&Te(G(e),"iterate",Nt),Reflect.get(e,"size",e)}function fi(e){e=G(e);const t=G(this);return As(t).has.call(t,e)||(t.add(e),nt(t,"add",e,e)),this}function pi(e,t){t=G(t);const r=G(this),{has:s,get:n}=As(r);let i=s.call(r,e);i||(e=G(e),i=s.call(r,e));const o=n.call(r,e);return r.set(e,t),i?Pt(t,o)&&nt(r,"set",e,t):nt(r,"add",e,t),this}function gi(e){const t=G(this),{has:r,get:s}=As(t);let n=r.call(t,e);n||(e=G(e),n=r.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return n&&nt(t,"delete",e,void 0),i}function _i(){const e=G(this),t=e.size!==0,r=e.clear();return t&&nt(e,"clear",void 0,void 0),r}function rs(e,t){return function(s,n){const i=this,o=i.__v_raw,a=G(o),l=t?Fn:e?Vn:Nr;return!e&&Te(a,"iterate",Nt),o.forEach((u,c)=>s.call(n,l(u),l(c),i))}}function ss(e,t,r){return function(...s){const n=this.__v_raw,i=G(n),o=ir(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...s),c=r?Fn:t?Vn:Nr;return!t&&Te(i,"iterate",l?un:Nt),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function ct(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ll(){const e={get(i){return Zr(this,i)},get size(){return ts(this)},has:es,add:fi,set:pi,delete:gi,clear:_i,forEach:rs(!1,!1)},t={get(i){return Zr(this,i,!1,!0)},get size(){return ts(this)},has:es,add:fi,set:pi,delete:gi,clear:_i,forEach:rs(!1,!0)},r={get(i){return Zr(this,i,!0)},get size(){return ts(this,!0)},has(i){return es.call(this,i,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:rs(!0,!1)},s={get(i){return Zr(this,i,!0,!0)},get size(){return ts(this,!0)},has(i){return es.call(this,i,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:rs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=ss(i,!1,!1),r[i]=ss(i,!0,!1),t[i]=ss(i,!1,!0),s[i]=ss(i,!0,!0)}),[e,r,t,s]}const[Ul,Dl,Ml,Nl]=Ll();function Bn(e,t){const r=t?e?Nl:Ml:e?Dl:Ul;return(s,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(W(r,n)&&n in s?r:s,n,i)}const Fl={get:Bn(!1,!1)},Bl={get:Bn(!1,!0)},ql={get:Bn(!0,!1)},zo=new WeakMap,Jo=new WeakMap,Wo=new WeakMap,Vl=new WeakMap;function Hl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kl(e){return e.__v_skip||!Object.isExtensible(e)?0:Hl(pl(e))}function xs(e){return ur(e)?e:qn(e,!1,jl,Fl,zo)}function Go(e){return qn(e,!1,Il,Bl,Jo)}function Qo(e){return qn(e,!0,$l,ql,Wo)}function qn(e,t,r,s,n){if(!ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=Kl(e);if(o===0)return e;const a=new Proxy(e,o===2?s:r);return n.set(e,a),a}function or(e){return ur(e)?or(e.__v_raw):!!(e&&e.__v_isReactive)}function ur(e){return!!(e&&e.__v_isReadonly)}function ws(e){return!!(e&&e.__v_isShallow)}function Yo(e){return or(e)||ur(e)}function G(e){const t=e&&e.__v_raw;return t?G(t):e}function Xo(e){return Object.isExtensible(e)&&ys(e,"__v_skip",!0),e}const Nr=e=>ne(e)?xs(e):e,Vn=e=>ne(e)?Qo(e):e;class Zo{constructor(t,r,s,n){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Dn(()=>t(this._value),()=>hs(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=s}get value(){const t=G(this);return(!t._cacheable||t.effect.dirty)&&Pt(t._value,t._value=t.effect.run())&&hs(t,4),ea(t),t.effect._dirtyLevel>=2&&hs(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function zl(e,t,r=!1){let s,n;const i=V(e);return i?(s=e,n=Ue):(s=e.get,n=e.set),new Zo(s,n,i||!n,r)}function ea(e){var t;Et&&Mt&&(e=G(e),Fo(Mt,(t=e.dep)!=null?t:e.dep=qo(()=>e.dep=void 0,e instanceof Zo?e:void 0)))}function hs(e,t=4,r){e=G(e);const s=e.dep;s&&Bo(s,t)}function Re(e){return!!(e&&e.__v_isRef===!0)}function se(e){return ta(e,!1)}function Jl(e){return ta(e,!0)}function ta(e,t){return Re(e)?e:new Wl(e,t)}class Wl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:G(t),this._value=r?t:Nr(t)}get value(){return ea(this),this._value}set value(t){const r=this.__v_isShallow||ws(t)||ur(t);t=r?t:G(t),Pt(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Nr(t),hs(this,4))}}function Ie(e){return Re(e)?e.value:e}const Gl={get:(e,t,r)=>Ie(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const n=e[t];return Re(n)&&!Re(r)?(n.value=r,!0):Reflect.set(e,t,r,s)}};function ra(e){return or(e)?e:new Proxy(e,Gl)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function St(e,t,r,s){try{return s?e(...s):e()}catch(n){js(n,t,r)}}function qe(e,t,r,s){if(V(e)){const i=St(e,t,r,s);return i&&jo(i)&&i.catch(o=>{js(o,t,r)}),i}const n=[];for(let i=0;i<e.length;i++)n.push(qe(e[i],t,r,s));return n}function js(e,t,r,s=!0){const n=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;i;){const u=i.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){St(l,null,10,[e,o,a]);return}}Ql(e,r,n,s)}function Ql(e,t,r,s=!0){console.error(e)}let Fr=!1,hn=!1;const _e=[];let Xe=0;const ar=[];let pt=null,$t=0;const sa=Promise.resolve();let Hn=null;function Kn(e){const t=Hn||sa;return e?t.then(this?e.bind(this):e):t}function Yl(e){let t=Xe+1,r=_e.length;for(;t<r;){const s=t+r>>>1,n=_e[s],i=Br(n);i<e||i===e&&n.pre?t=s+1:r=s}return t}function zn(e){(!_e.length||!_e.includes(e,Fr&&e.allowRecurse?Xe+1:Xe))&&(e.id==null?_e.push(e):_e.splice(Yl(e.id),0,e),na())}function na(){!Fr&&!hn&&(hn=!0,Hn=sa.then(oa))}function Xl(e){const t=_e.indexOf(e);t>Xe&&_e.splice(t,1)}function Zl(e){M(e)?ar.push(...e):(!pt||!pt.includes(e,e.allowRecurse?$t+1:$t))&&ar.push(e),na()}function mi(e,t,r=Fr?Xe+1:0){for(;r<_e.length;r++){const s=_e[r];if(s&&s.pre){if(e&&s.id!==e.uid)continue;_e.splice(r,1),r--,s()}}}function ia(e){if(ar.length){const t=[...new Set(ar)].sort((r,s)=>Br(r)-Br(s));if(ar.length=0,pt){pt.push(...t);return}for(pt=t,$t=0;$t<pt.length;$t++)pt[$t]();pt=null,$t=0}}const Br=e=>e.id==null?1/0:e.id,ec=(e,t)=>{const r=Br(e)-Br(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function oa(e){hn=!1,Fr=!0,_e.sort(ec);try{for(Xe=0;Xe<_e.length;Xe++){const t=_e[Xe];t&&t.active!==!1&&St(t,null,14)}}finally{Xe=0,_e.length=0,ia(),Fr=!1,Hn=null,(_e.length||ar.length)&&oa()}}function tc(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||oe;let n=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in s){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=s[c]||oe;d&&(n=r.map(p=>ue(p)?p.trim():p)),h&&(n=r.map(Mr))}let a,l=s[a=Ks(t)]||s[a=Ks(Ze(t))];!l&&i&&(l=s[a=Ks(mr(t))]),l&&qe(l,e,6,n);const u=s[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,qe(u,e,6,n)}}function aa(e,t,r=!1){const s=t.emitsCache,n=s.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!V(e)){const l=u=>{const c=aa(u,t,!0);c&&(a=!0,be(o,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ne(e)&&s.set(e,null),null):(M(i)?i.forEach(l=>o[l]=null):be(o,i),ne(e)&&s.set(e,o),o)}function $s(e,t){return!e||!Ts(t)?!1:(t=t.slice(2).replace(/Once$/,""),W(e,t[0].toLowerCase()+t.slice(1))||W(e,mr(t))||W(e,t))}let Oe=null,Is=null;function bs(e){const t=Oe;return Oe=e,Is=e&&e.type.__scopeId||null,t}function Jn(e){Is=e}function Wn(){Is=null}function ds(e,t=Oe,r){if(!t||e._n)return e;const s=(...n)=>{s._d&&Ci(-1);const i=bs(t);let o;try{o=e(...n)}finally{bs(i),s._d&&Ci(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function vi(e){const{type:t,vnode:r,proxy:s,withProxy:n,props:i,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:h,data:d,setupState:p,ctx:m,inheritAttrs:w}=e;let v,k;const C=bs(e);try{if(r.shapeFlag&4){const O=n||s,B=O;v=Ye(c.call(B,O,h,i,p,d,m)),k=l}else{const O=t;v=Ye(O.length>1?O(i,{attrs:l,slots:a,emit:u}):O(i,null)),k=t.props?l:rc(l)}}catch(O){Ar.length=0,js(O,e,1),v=ce(Ft)}let A=v;if(k&&w!==!1){const O=Object.keys(k),{shapeFlag:B}=A;O.length&&B&7&&(o&&O.some(xn)&&(k=sc(k,o)),A=hr(A,k))}return r.dirs&&(A=hr(A),A.dirs=A.dirs?A.dirs.concat(r.dirs):r.dirs),r.transition&&(A.transition=r.transition),v=A,bs(C),v}const rc=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ts(r))&&((t||(t={}))[r]=e[r]);return t},sc=(e,t)=>{const r={};for(const s in e)(!xn(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function nc(e,t,r){const{props:s,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?yi(s,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==s[d]&&!$s(u,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?yi(s,o,u):!0:!!o;return!1}function yi(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(t[i]!==e[i]&&!$s(r,i))return!0}return!1}function ic({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const oc="components";function la(e,t){return lc(oc,e,!0,t)||e}const ac=Symbol.for("v-ndc");function lc(e,t,r=!0,s=!1){const n=Oe||me;if(n){const i=n.type;{const a=eu(i,!1);if(a&&(a===t||a===Ze(t)||a===Cs(Ze(t))))return i}const o=wi(n[e]||i[e],t)||wi(n.appContext[e],t);return!o&&s?i:o}}function wi(e,t){return e&&(e[t]||e[Ze(t)]||e[Cs(Ze(t))])}const cc=e=>e.__isSuspense;function uc(e,t){t&&t.pendingBranch?M(e)?t.effects.push(...e):t.effects.push(e):Zl(e)}const hc=Symbol.for("v-scx"),dc=()=>Ve(hc),ns={};function lr(e,t,r){return ca(e,t,r)}function ca(e,t,{immediate:r,deep:s,flush:n,once:i,onTrack:o,onTrigger:a}=oe){if(t&&i){const F=t;t=(...le)=>{F(...le),B()}}const l=me,u=F=>s===!0?F:Lt(F,s===!1?1:void 0);let c,h=!1,d=!1;if(Re(e)?(c=()=>e.value,h=ws(e)):or(e)?(c=()=>u(e),h=!0):M(e)?(d=!0,h=e.some(F=>or(F)||ws(F)),c=()=>e.map(F=>{if(Re(F))return F.value;if(or(F))return u(F);if(V(F))return St(F,l,2)})):V(e)?t?c=()=>St(e,l,2):c=()=>(p&&p(),qe(e,l,3,[m])):c=Ue,t&&s){const F=c;c=()=>Lt(F())}let p,m=F=>{p=A.onStop=()=>{St(F,l,4),p=A.onStop=void 0}},w;if(Ms)if(m=Ue,t?r&&qe(t,l,3,[c(),d?[]:void 0,m]):c(),n==="sync"){const F=dc();w=F.__watcherHandles||(F.__watcherHandles=[])}else return Ue;let v=d?new Array(e.length).fill(ns):ns;const k=()=>{if(!(!A.active||!A.dirty))if(t){const F=A.run();(s||h||(d?F.some((le,Le)=>Pt(le,v[Le])):Pt(F,v)))&&(p&&p(),qe(t,l,3,[F,v===ns?void 0:d&&v[0]===ns?[]:v,m]),v=F)}else A.run()};k.allowRecurse=!!t;let C;n==="sync"?C=k:n==="post"?C=()=>ke(k,l&&l.suspense):(k.pre=!0,l&&(k.id=l.uid),C=()=>zn(k));const A=new Dn(c,Ue,C),O=Ol(),B=()=>{A.stop(),O&&jn(O.effects,A)};return t?r?k():v=A.run():n==="post"?ke(A.run.bind(A),l&&l.suspense):A.run(),w&&w.push(B),B}function fc(e,t,r){const s=this.proxy,n=ue(e)?e.includes(".")?ua(s,e):()=>s[e]:e.bind(s,s);let i;V(t)?i=t:(i=t.handler,r=t);const o=Gr(this),a=ca(n,i.bind(s),r);return o(),a}function ua(e,t){const r=t.split(".");return()=>{let s=e;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}function Lt(e,t,r=0,s){if(!ne(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Re(e))Lt(e.value,t,r,s);else if(M(e))for(let n=0;n<e.length;n++)Lt(e[n],t,r,s);else if(_r(e)||ir(e))e.forEach(n=>{Lt(n,t,r,s)});else if(Io(e))for(const n in e)Lt(e[n],t,r,s);return e}function yt(e,t){if(Oe===null)return e;const r=Ns(Oe)||Oe.proxy,s=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=oe]=t[n];i&&(V(i)&&(i={mounted:i,updated:i}),i.deep&&Lt(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ct(e,t,r,s){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(Bt(),qe(l,r,8,[e.el,a,e,t]),qt())}}/*! #__NO_SIDE_EFFECTS__ */function ha(e,t){return V(e)?be({name:e.name},t,{setup:e}):e}const fs=e=>!!e.type.__asyncLoader,da=e=>e.type.__isKeepAlive;function pc(e,t){fa(e,"a",t)}function gc(e,t){fa(e,"da",t)}function fa(e,t,r=me){const s=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ls(t,s,r),r){let n=r.parent;for(;n&&n.parent;)da(n.parent.vnode)&&_c(s,t,r,n),n=n.parent}}function _c(e,t,r,s){const n=Ls(t,e,s,!0);pa(()=>{jn(s[t],n)},r)}function Ls(e,t,r=me,s=!1){if(r){const n=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;Bt();const a=Gr(r),l=qe(t,r,e,o);return a(),qt(),l});return s?n.unshift(i):n.push(i),i}}const ot=e=>(t,r=me)=>(!Ms||e==="sp")&&Ls(e,(...s)=>t(...s),r),mc=ot("bm"),Gn=ot("m"),vc=ot("bu"),yc=ot("u"),wc=ot("bum"),pa=ot("um"),bc=ot("sp"),Ec=ot("rtg"),Sc=ot("rtc");function kc(e,t=me){Ls("ec",e,t)}function ps(e,t,r,s){let n;const i=r;if(M(e)||ue(e)){n=new Array(e.length);for(let o=0,a=e.length;o<a;o++)n[o]=t(e[o],o,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let o=0;o<e;o++)n[o]=t(o+1,o,void 0,i)}else if(ne(e))if(e[Symbol.iterator])n=Array.from(e,(o,a)=>t(o,a,void 0,i));else{const o=Object.keys(e);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];n[a]=t(e[u],u,a,i)}}else n=[];return n}const dn=e=>e?Ra(e)?Ns(e)||e.proxy:dn(e.parent):null,Rr=be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>dn(e.parent),$root:e=>dn(e.root),$emit:e=>e.emit,$options:e=>_a(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,zn(e.update)}),$nextTick:e=>e.n||(e.n=Kn.bind(e.proxy)),$watch:e=>fc.bind(e)}),Js=(e,t)=>e!==oe&&!e.__isScriptSetup&&W(e,t),Pc={get({_:e},t){const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return n[t];case 4:return r[t];case 3:return i[t]}else{if(Js(s,t))return o[t]=1,s[t];if(n!==oe&&W(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&W(u,t))return o[t]=3,i[t];if(r!==oe&&W(r,t))return o[t]=4,r[t];fn&&(o[t]=0)}}const c=Rr[t];let h,d;if(c)return t==="$attrs"&&Te(e,"get",t),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(r!==oe&&W(r,t))return o[t]=4,r[t];if(d=l.config.globalProperties,W(d,t))return d[t]},set({_:e},t,r){const{data:s,setupState:n,ctx:i}=e;return Js(n,t)?(n[t]=r,!0):s!==oe&&W(s,t)?(s[t]=r,!0):W(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:n,propsOptions:i}},o){let a;return!!r[o]||e!==oe&&W(e,o)||Js(t,o)||(a=i[0])&&W(a,o)||W(s,o)||W(Rr,o)||W(n.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:W(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function bi(e){return M(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let fn=!0;function Oc(e){const t=_a(e),r=e.proxy,s=e.ctx;fn=!1,t.beforeCreate&&Ei(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:p,updated:m,activated:w,deactivated:v,beforeDestroy:k,beforeUnmount:C,destroyed:A,unmounted:O,render:B,renderTracked:F,renderTriggered:le,errorCaptured:Le,serverPrefetch:Tt,expose:Ke,inheritAttrs:at,components:Rt,directives:ze,filters:yr}=t;if(u&&Tc(u,s,null),o)for(const X in o){const Q=o[X];V(Q)&&(s[X]=Q.bind(r))}if(n){const X=n.call(r,r);ne(X)&&(e.data=xs(X))}if(fn=!0,i)for(const X in i){const Q=i[X],et=V(Q)?Q.bind(r,r):V(Q.get)?Q.get.bind(r,r):Ue,lt=!V(Q)&&V(Q.set)?Q.set.bind(r):Ue,Je=Pe({get:et,set:lt});Object.defineProperty(s,X,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Ee=>Je.value=Ee})}if(a)for(const X in a)ga(a[X],s,r,X);if(l){const X=V(l)?l.call(r):l;Reflect.ownKeys(X).forEach(Q=>{gs(Q,X[Q])})}c&&Ei(c,e,"c");function he(X,Q){M(Q)?Q.forEach(et=>X(et.bind(r))):Q&&X(Q.bind(r))}if(he(mc,h),he(Gn,d),he(vc,p),he(yc,m),he(pc,w),he(gc,v),he(kc,Le),he(Sc,F),he(Ec,le),he(wc,C),he(pa,O),he(bc,Tt),M(Ke))if(Ke.length){const X=e.exposed||(e.exposed={});Ke.forEach(Q=>{Object.defineProperty(X,Q,{get:()=>r[Q],set:et=>r[Q]=et})})}else e.exposed||(e.exposed={});B&&e.render===Ue&&(e.render=B),at!=null&&(e.inheritAttrs=at),Rt&&(e.components=Rt),ze&&(e.directives=ze)}function Tc(e,t,r=Ue){M(e)&&(e=pn(e));for(const s in e){const n=e[s];let i;ne(n)?"default"in n?i=Ve(n.from||s,n.default,!0):i=Ve(n.from||s):i=Ve(n),Re(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function Ei(e,t,r){qe(M(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function ga(e,t,r,s){const n=s.includes(".")?ua(r,s):()=>r[s];if(ue(e)){const i=t[e];V(i)&&lr(n,i)}else if(V(e))lr(n,e.bind(r));else if(ne(e))if(M(e))e.forEach(i=>ga(i,t,r,s));else{const i=V(e.handler)?e.handler.bind(r):t[e.handler];V(i)&&lr(n,i,e)}}function _a(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!r&&!s?l=t:(l={},n.length&&n.forEach(u=>Es(l,u,o,!0)),Es(l,t,o)),ne(t)&&i.set(t,l),l}function Es(e,t,r,s=!1){const{mixins:n,extends:i}=t;i&&Es(e,i,r,!0),n&&n.forEach(o=>Es(e,o,r,!0));for(const o in t)if(!(s&&o==="expose")){const a=Rc[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Rc={data:Si,props:ki,emits:ki,methods:Pr,computed:Pr,beforeCreate:ye,created:ye,beforeMount:ye,mounted:ye,beforeUpdate:ye,updated:ye,beforeDestroy:ye,beforeUnmount:ye,destroyed:ye,unmounted:ye,activated:ye,deactivated:ye,errorCaptured:ye,serverPrefetch:ye,components:Pr,directives:Pr,watch:Ac,provide:Si,inject:Cc};function Si(e,t){return t?e?function(){return be(V(e)?e.call(this,this):e,V(t)?t.call(this,this):t)}:t:e}function Cc(e,t){return Pr(pn(e),pn(t))}function pn(e){if(M(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function ye(e,t){return e?[...new Set([].concat(e,t))]:t}function Pr(e,t){return e?be(Object.create(null),e,t):t}function ki(e,t){return e?M(e)&&M(t)?[...new Set([...e,...t])]:be(Object.create(null),bi(e),bi(t??{})):t}function Ac(e,t){if(!e)return t;if(!t)return e;const r=be(Object.create(null),e);for(const s in t)r[s]=ye(e[s],t[s]);return r}function ma(){return{app:null,config:{isNativeTag:dl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xc=0;function jc(e,t){return function(s,n=null){V(s)||(s=be({},s)),n!=null&&!ne(n)&&(n=null);const i=ma(),o=new WeakSet;let a=!1;const l=i.app={_uid:xc++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:ru,get config(){return i.config},set config(u){},use(u,...c){return o.has(u)||(u&&V(u.install)?(o.add(u),u.install(l,...c)):V(u)&&(o.add(u),u(l,...c))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,c){return c?(i.components[u]=c,l):i.components[u]},directive(u,c){return c?(i.directives[u]=c,l):i.directives[u]},mount(u,c,h){if(!a){const d=ce(s,n);return d.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(d,u,h),a=!0,l._container=u,u.__vue_app__=l,Ns(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return i.provides[u]=c,l},runWithContext(u){const c=Cr;Cr=l;try{return u()}finally{Cr=c}}};return l}}let Cr=null;function gs(e,t){if(me){let r=me.provides;const s=me.parent&&me.parent.provides;s===r&&(r=me.provides=Object.create(s)),r[e]=t}}function Ve(e,t,r=!1){const s=me||Oe;if(s||Cr){const n=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Cr._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return r&&V(t)?t.call(s&&s.proxy):t}}function $c(e,t,r,s=!1){const n={},i={};ys(i,Ds,1),e.propsDefaults=Object.create(null),va(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);r?e.props=s?n:Go(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function Ic(e,t,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=G(n),[l]=e.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if($s(e.emitsOptions,d))continue;const p=t[d];if(l)if(W(i,d))p!==i[d]&&(i[d]=p,u=!0);else{const m=Ze(d);n[m]=gn(l,a,m,p,e,!1)}else p!==i[d]&&(i[d]=p,u=!0)}}}else{va(e,t,n,i)&&(u=!0);let c;for(const h in a)(!t||!W(t,h)&&((c=mr(h))===h||!W(t,c)))&&(l?r&&(r[h]!==void 0||r[c]!==void 0)&&(n[h]=gn(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!W(t,h))&&(delete i[h],u=!0)}u&&nt(e,"set","$attrs")}function va(e,t,r,s){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Tr(l))continue;const u=t[l];let c;n&&W(n,c=Ze(l))?!i||!i.includes(c)?r[c]=u:(a||(a={}))[c]=u:$s(e.emitsOptions,l)||(!(l in s)||u!==s[l])&&(s[l]=u,o=!0)}if(i){const l=G(r),u=a||oe;for(let c=0;c<i.length;c++){const h=i[c];r[h]=gn(n,l,h,u[h],e,!W(u,h))}}return o}function gn(e,t,r,s,n,i){const o=e[r];if(o!=null){const a=W(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&V(l)){const{propsDefaults:u}=n;if(r in u)s=u[r];else{const c=Gr(n);s=u[r]=l.call(null,t),c()}}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===mr(r))&&(s=!0))}return s}function ya(e,t,r=!1){const s=t.propsCache,n=s.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!V(e)){const c=h=>{l=!0;const[d,p]=ya(h,t,!0);be(o,d),p&&a.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return ne(e)&&s.set(e,nr),nr;if(M(i))for(let c=0;c<i.length;c++){const h=Ze(i[c]);Pi(h)&&(o[h]=oe)}else if(i)for(const c in i){const h=Ze(c);if(Pi(h)){const d=i[c],p=o[h]=M(d)||V(d)?{type:d}:be({},d);if(p){const m=Ri(Boolean,p.type),w=Ri(String,p.type);p[0]=m>-1,p[1]=w<0||m<w,(m>-1||W(p,"default"))&&a.push(h)}}}const u=[o,a];return ne(e)&&s.set(e,u),u}function Pi(e){return e[0]!=="$"&&!Tr(e)}function Oi(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Ti(e,t){return Oi(e)===Oi(t)}function Ri(e,t){return M(t)?t.findIndex(r=>Ti(r,e)):V(t)&&Ti(t,e)?0:-1}const wa=e=>e[0]==="_"||e==="$stable",Qn=e=>M(e)?e.map(Ye):[Ye(e)],Lc=(e,t,r)=>{if(t._n)return t;const s=ds((...n)=>Qn(t(...n)),r);return s._c=!1,s},ba=(e,t,r)=>{const s=e._ctx;for(const n in e){if(wa(n))continue;const i=e[n];if(V(i))t[n]=Lc(n,i,s);else if(i!=null){const o=Qn(i);t[n]=()=>o}}},Ea=(e,t)=>{const r=Qn(t);e.slots.default=()=>r},Uc=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=G(t),ys(t,"_",r)):ba(t,e.slots={})}else e.slots={},t&&Ea(e,t);ys(e.slots,Ds,1)},Dc=(e,t,r)=>{const{vnode:s,slots:n}=e;let i=!0,o=oe;if(s.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:(be(n,t),!r&&a===1&&delete n._):(i=!t.$stable,ba(t,n)),o=t}else t&&(Ea(e,t),o={default:1});if(i)for(const a in n)!wa(a)&&o[a]==null&&delete n[a]};function _n(e,t,r,s,n=!1){if(M(e)){e.forEach((d,p)=>_n(d,t&&(M(t)?t[p]:t),r,s,n));return}if(fs(s)&&!n)return;const i=s.shapeFlag&4?Ns(s.component)||s.component.proxy:s.el,o=n?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===oe?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(ue(u)?(c[u]=null,W(h,u)&&(h[u]=null)):Re(u)&&(u.value=null)),V(l))St(l,a,12,[o,c]);else{const d=ue(l),p=Re(l);if(d||p){const m=()=>{if(e.f){const w=d?W(h,l)?h[l]:c[l]:l.value;n?M(w)&&jn(w,i):M(w)?w.includes(i)||w.push(i):d?(c[l]=[i],W(h,l)&&(h[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else d?(c[l]=o,W(h,l)&&(h[l]=o)):p&&(l.value=o,e.k&&(c[e.k]=o))};o?(m.id=-1,ke(m,r)):m()}}}const ke=uc;function Mc(e){return Nc(e)}function Nc(e,t){const r=Lo();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:p=Ue,insertStaticContent:m}=e,w=(f,g,_,y=null,E=null,S=null,$=void 0,T=null,x=!!g.dynamicChildren)=>{if(f===g)return;f&&!br(f,g)&&(y=b(f),Ee(f,E,S,!0),f=null),g.patchFlag===-2&&(x=!1,g.dynamicChildren=null);const{type:P,ref:L,shapeFlag:N}=g;switch(P){case Us:v(f,g,_,y);break;case Ft:k(f,g,_,y);break;case _s:f==null&&C(g,_,y,$);break;case we:Rt(f,g,_,y,E,S,$,T,x);break;default:N&1?B(f,g,_,y,E,S,$,T,x):N&6?ze(f,g,_,y,E,S,$,T,x):(N&64||N&128)&&P.process(f,g,_,y,E,S,$,T,x,U)}L!=null&&E&&_n(L,f&&f.ref,S,g||f,!g)},v=(f,g,_,y)=>{if(f==null)s(g.el=a(g.children),_,y);else{const E=g.el=f.el;g.children!==f.children&&u(E,g.children)}},k=(f,g,_,y)=>{f==null?s(g.el=l(g.children||""),_,y):g.el=f.el},C=(f,g,_,y)=>{[f.el,f.anchor]=m(f.children,g,_,y,f.el,f.anchor)},A=({el:f,anchor:g},_,y)=>{let E;for(;f&&f!==g;)E=d(f),s(f,_,y),f=E;s(g,_,y)},O=({el:f,anchor:g})=>{let _;for(;f&&f!==g;)_=d(f),n(f),f=_;n(g)},B=(f,g,_,y,E,S,$,T,x)=>{g.type==="svg"?$="svg":g.type==="math"&&($="mathml"),f==null?F(g,_,y,E,S,$,T,x):Tt(f,g,E,S,$,T,x)},F=(f,g,_,y,E,S,$,T)=>{let x,P;const{props:L,shapeFlag:N,transition:D,dirs:q}=f;if(x=f.el=o(f.type,S,L&&L.is,L),N&8?c(x,f.children):N&16&&Le(f.children,x,null,y,E,Ws(f,S),$,T),q&&Ct(f,null,y,"created"),le(x,f,f.scopeId,$,y),L){for(const Z in L)Z!=="value"&&!Tr(Z)&&i(x,Z,null,L[Z],S,f.children,y,E,pe);"value"in L&&i(x,"value",null,L.value,S),(P=L.onVnodeBeforeMount)&&Ge(P,y,f)}q&&Ct(f,null,y,"beforeMount");const K=Fc(E,D);K&&D.beforeEnter(x),s(x,g,_),((P=L&&L.onVnodeMounted)||K||q)&&ke(()=>{P&&Ge(P,y,f),K&&D.enter(x),q&&Ct(f,null,y,"mounted")},E)},le=(f,g,_,y,E)=>{if(_&&p(f,_),y)for(let S=0;S<y.length;S++)p(f,y[S]);if(E){let S=E.subTree;if(g===S){const $=E.vnode;le(f,$,$.scopeId,$.slotScopeIds,E.parent)}}},Le=(f,g,_,y,E,S,$,T,x=0)=>{for(let P=x;P<f.length;P++){const L=f[P]=T?gt(f[P]):Ye(f[P]);w(null,L,g,_,y,E,S,$,T)}},Tt=(f,g,_,y,E,S,$)=>{const T=g.el=f.el;let{patchFlag:x,dynamicChildren:P,dirs:L}=g;x|=f.patchFlag&16;const N=f.props||oe,D=g.props||oe;let q;if(_&&At(_,!1),(q=D.onVnodeBeforeUpdate)&&Ge(q,_,g,f),L&&Ct(g,f,_,"beforeUpdate"),_&&At(_,!0),P?Ke(f.dynamicChildren,P,T,_,y,Ws(g,E),S):$||Q(f,g,T,null,_,y,Ws(g,E),S,!1),x>0){if(x&16)at(T,g,N,D,_,y,E);else if(x&2&&N.class!==D.class&&i(T,"class",null,D.class,E),x&4&&i(T,"style",N.style,D.style,E),x&8){const K=g.dynamicProps;for(let Z=0;Z<K.length;Z++){const ae=K[Z],ve=N[ae],Me=D[ae];(Me!==ve||ae==="value")&&i(T,ae,ve,Me,E,f.children,_,y,pe)}}x&1&&f.children!==g.children&&c(T,g.children)}else!$&&P==null&&at(T,g,N,D,_,y,E);((q=D.onVnodeUpdated)||L)&&ke(()=>{q&&Ge(q,_,g,f),L&&Ct(g,f,_,"updated")},y)},Ke=(f,g,_,y,E,S,$)=>{for(let T=0;T<g.length;T++){const x=f[T],P=g[T],L=x.el&&(x.type===we||!br(x,P)||x.shapeFlag&70)?h(x.el):_;w(x,P,L,null,y,E,S,$,!0)}},at=(f,g,_,y,E,S,$)=>{if(_!==y){if(_!==oe)for(const T in _)!Tr(T)&&!(T in y)&&i(f,T,_[T],null,$,g.children,E,S,pe);for(const T in y){if(Tr(T))continue;const x=y[T],P=_[T];x!==P&&T!=="value"&&i(f,T,P,x,$,g.children,E,S,pe)}"value"in y&&i(f,"value",_.value,y.value,$)}},Rt=(f,g,_,y,E,S,$,T,x)=>{const P=g.el=f?f.el:a(""),L=g.anchor=f?f.anchor:a("");let{patchFlag:N,dynamicChildren:D,slotScopeIds:q}=g;q&&(T=T?T.concat(q):q),f==null?(s(P,_,y),s(L,_,y),Le(g.children||[],_,L,E,S,$,T,x)):N>0&&N&64&&D&&f.dynamicChildren?(Ke(f.dynamicChildren,D,_,E,S,$,T),(g.key!=null||E&&g===E.subTree)&&Sa(f,g,!0)):Q(f,g,_,L,E,S,$,T,x)},ze=(f,g,_,y,E,S,$,T,x)=>{g.slotScopeIds=T,f==null?g.shapeFlag&512?E.ctx.activate(g,_,y,$,x):yr(g,_,y,E,S,$,x):Ht(f,g,x)},yr=(f,g,_,y,E,S,$)=>{const T=f.component=Gc(f,y,E);if(da(f)&&(T.ctx.renderer=U),Qc(T),T.asyncDep){if(E&&E.registerDep(T,he),!f.el){const x=T.subTree=ce(Ft);k(null,x,g,_)}}else he(T,f,g,_,E,S,$)},Ht=(f,g,_)=>{const y=g.component=f.component;if(nc(f,g,_))if(y.asyncDep&&!y.asyncResolved){X(y,g,_);return}else y.next=g,Xl(y.update),y.effect.dirty=!0,y.update();else g.el=f.el,y.vnode=g},he=(f,g,_,y,E,S,$)=>{const T=()=>{if(f.isMounted){let{next:L,bu:N,u:D,parent:q,vnode:K}=f;{const Jt=ka(f);if(Jt){L&&(L.el=K.el,X(f,L,$)),Jt.asyncDep.then(()=>{f.isUnmounted||T()});return}}let Z=L,ae;At(f,!1),L?(L.el=K.el,X(f,L,$)):L=K,N&&us(N),(ae=L.props&&L.props.onVnodeBeforeUpdate)&&Ge(ae,q,L,K),At(f,!0);const ve=vi(f),Me=f.subTree;f.subTree=ve,w(Me,ve,h(Me.el),b(Me),f,E,S),L.el=ve.el,Z===null&&ic(f,ve.el),D&&ke(D,E),(ae=L.props&&L.props.onVnodeUpdated)&&ke(()=>Ge(ae,q,L,K),E)}else{let L;const{el:N,props:D}=g,{bm:q,m:K,parent:Z}=f,ae=fs(g);At(f,!1),q&&us(q),!ae&&(L=D&&D.onVnodeBeforeMount)&&Ge(L,Z,g),At(f,!0);{const ve=f.subTree=vi(f);w(null,ve,_,y,f,E,S),g.el=ve.el}if(K&&ke(K,E),!ae&&(L=D&&D.onVnodeMounted)){const ve=g;ke(()=>Ge(L,Z,ve),E)}(g.shapeFlag&256||Z&&fs(Z.vnode)&&Z.vnode.shapeFlag&256)&&f.a&&ke(f.a,E),f.isMounted=!0,g=_=y=null}},x=f.effect=new Dn(T,Ue,()=>zn(P),f.scope),P=f.update=()=>{x.dirty&&x.run()};P.id=f.uid,At(f,!0),P()},X=(f,g,_)=>{g.component=f;const y=f.vnode.props;f.vnode=g,f.next=null,Ic(f,g.props,y,_),Dc(f,g.children,_),Bt(),mi(f),qt()},Q=(f,g,_,y,E,S,$,T,x=!1)=>{const P=f&&f.children,L=f?f.shapeFlag:0,N=g.children,{patchFlag:D,shapeFlag:q}=g;if(D>0){if(D&128){lt(P,N,_,y,E,S,$,T,x);return}else if(D&256){et(P,N,_,y,E,S,$,T,x);return}}q&8?(L&16&&pe(P,E,S),N!==P&&c(_,N)):L&16?q&16?lt(P,N,_,y,E,S,$,T,x):pe(P,E,S,!0):(L&8&&c(_,""),q&16&&Le(N,_,y,E,S,$,T,x))},et=(f,g,_,y,E,S,$,T,x)=>{f=f||nr,g=g||nr;const P=f.length,L=g.length,N=Math.min(P,L);let D;for(D=0;D<N;D++){const q=g[D]=x?gt(g[D]):Ye(g[D]);w(f[D],q,_,null,E,S,$,T,x)}P>L?pe(f,E,S,!0,!1,N):Le(g,_,y,E,S,$,T,x,N)},lt=(f,g,_,y,E,S,$,T,x)=>{let P=0;const L=g.length;let N=f.length-1,D=L-1;for(;P<=N&&P<=D;){const q=f[P],K=g[P]=x?gt(g[P]):Ye(g[P]);if(br(q,K))w(q,K,_,null,E,S,$,T,x);else break;P++}for(;P<=N&&P<=D;){const q=f[N],K=g[D]=x?gt(g[D]):Ye(g[D]);if(br(q,K))w(q,K,_,null,E,S,$,T,x);else break;N--,D--}if(P>N){if(P<=D){const q=D+1,K=q<L?g[q].el:y;for(;P<=D;)w(null,g[P]=x?gt(g[P]):Ye(g[P]),_,K,E,S,$,T,x),P++}}else if(P>D)for(;P<=N;)Ee(f[P],E,S,!0),P++;else{const q=P,K=P,Z=new Map;for(P=K;P<=D;P++){const Ce=g[P]=x?gt(g[P]):Ye(g[P]);Ce.key!=null&&Z.set(Ce.key,P)}let ae,ve=0;const Me=D-K+1;let Jt=!1,ii=0;const wr=new Array(Me);for(P=0;P<Me;P++)wr[P]=0;for(P=q;P<=N;P++){const Ce=f[P];if(ve>=Me){Ee(Ce,E,S,!0);continue}let We;if(Ce.key!=null)We=Z.get(Ce.key);else for(ae=K;ae<=D;ae++)if(wr[ae-K]===0&&br(Ce,g[ae])){We=ae;break}We===void 0?Ee(Ce,E,S,!0):(wr[We-K]=P+1,We>=ii?ii=We:Jt=!0,w(Ce,g[We],_,null,E,S,$,T,x),ve++)}const oi=Jt?Bc(wr):nr;for(ae=oi.length-1,P=Me-1;P>=0;P--){const Ce=K+P,We=g[Ce],ai=Ce+1<L?g[Ce+1].el:y;wr[P]===0?w(null,We,_,ai,E,S,$,T,x):Jt&&(ae<0||P!==oi[ae]?Je(We,_,ai,2):ae--)}}},Je=(f,g,_,y,E=null)=>{const{el:S,type:$,transition:T,children:x,shapeFlag:P}=f;if(P&6){Je(f.component.subTree,g,_,y);return}if(P&128){f.suspense.move(g,_,y);return}if(P&64){$.move(f,g,_,U);return}if($===we){s(S,g,_);for(let N=0;N<x.length;N++)Je(x[N],g,_,y);s(f.anchor,g,_);return}if($===_s){A(f,g,_);return}if(y!==2&&P&1&&T)if(y===0)T.beforeEnter(S),s(S,g,_),ke(()=>T.enter(S),E);else{const{leave:N,delayLeave:D,afterLeave:q}=T,K=()=>s(S,g,_),Z=()=>{N(S,()=>{K(),q&&q()})};D?D(S,K,Z):Z()}else s(S,g,_)},Ee=(f,g,_,y=!1,E=!1)=>{const{type:S,props:$,ref:T,children:x,dynamicChildren:P,shapeFlag:L,patchFlag:N,dirs:D}=f;if(T!=null&&_n(T,null,_,f,!0),L&256){g.ctx.deactivate(f);return}const q=L&1&&D,K=!fs(f);let Z;if(K&&(Z=$&&$.onVnodeBeforeUnmount)&&Ge(Z,g,f),L&6)Xr(f.component,_,y);else{if(L&128){f.suspense.unmount(_,y);return}q&&Ct(f,null,g,"beforeUnmount"),L&64?f.type.remove(f,g,_,E,U,y):P&&(S!==we||N>0&&N&64)?pe(P,g,_,!1,!0):(S===we&&N&384||!E&&L&16)&&pe(x,g,_),y&&Kt(f)}(K&&(Z=$&&$.onVnodeUnmounted)||q)&&ke(()=>{Z&&Ge(Z,g,f),q&&Ct(f,null,g,"unmounted")},_)},Kt=f=>{const{type:g,el:_,anchor:y,transition:E}=f;if(g===we){zt(_,y);return}if(g===_s){O(f);return}const S=()=>{n(_),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(f.shapeFlag&1&&E&&!E.persisted){const{leave:$,delayLeave:T}=E,x=()=>$(_,S);T?T(f.el,S,x):x()}else S()},zt=(f,g)=>{let _;for(;f!==g;)_=d(f),n(f),f=_;n(g)},Xr=(f,g,_)=>{const{bum:y,scope:E,update:S,subTree:$,um:T}=f;y&&us(y),E.stop(),S&&(S.active=!1,Ee($,f,g,_)),T&&ke(T,g),ke(()=>{f.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},pe=(f,g,_,y=!1,E=!1,S=0)=>{for(let $=S;$<f.length;$++)Ee(f[$],g,_,y,E)},b=f=>f.shapeFlag&6?b(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el);let I=!1;const j=(f,g,_)=>{f==null?g._vnode&&Ee(g._vnode,null,null,!0):w(g._vnode||null,f,g,null,null,null,_),I||(I=!0,mi(),ia(),I=!1),g._vnode=f},U={p:w,um:Ee,m:Je,r:Kt,mt:yr,mc:Le,pc:Q,pbc:Ke,n:b,o:e};return{render:j,hydrate:void 0,createApp:jc(j)}}function Ws({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function At({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Fc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Sa(e,t,r=!1){const s=e.children,n=t.children;if(M(s)&&M(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=gt(n[i]),a.el=o.el),r||Sa(o,a)),a.type===Us&&(a.el=o.el)}}function Bc(e){const t=e.slice(),r=[0];let s,n,i,o,a;const l=e.length;for(s=0;s<l;s++){const u=e[s];if(u!==0){if(n=r[r.length-1],e[n]<u){t[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<u?i=a+1:o=a;u<e[r[i]]&&(i>0&&(t[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}function ka(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ka(t)}const qc=e=>e.__isTeleport,we=Symbol.for("v-fgt"),Us=Symbol.for("v-txt"),Ft=Symbol.for("v-cmt"),_s=Symbol.for("v-stc"),Ar=[];let Be=null;function te(e=!1){Ar.push(Be=e?null:[])}function Vc(){Ar.pop(),Be=Ar[Ar.length-1]||null}let qr=1;function Ci(e){qr+=e}function Pa(e){return e.dynamicChildren=qr>0?Be||nr:null,Vc(),qr>0&&Be&&Be.push(e),e}function ie(e,t,r,s,n,i){return Pa(R(e,t,r,s,n,i,!0))}function Oa(e,t,r,s,n){return Pa(ce(e,t,r,s,n,!0))}function mn(e){return e?e.__v_isVNode===!0:!1}function br(e,t){return e.type===t.type&&e.key===t.key}const Ds="__vInternal",Ta=({key:e})=>e??null,ms=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?ue(e)||Re(e)||V(e)?{i:Oe,r:e,k:t,f:!!r}:e:null);function R(e,t=null,r=null,s=0,n=null,i=e===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ta(t),ref:t&&ms(t),scopeId:Is,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Oe};return a?(Yn(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=ue(r)?8:16),qr>0&&!o&&Be&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Be.push(l),l}const ce=Hc;function Hc(e,t=null,r=null,s=0,n=null,i=!1){if((!e||e===ac)&&(e=Ft),mn(e)){const a=hr(e,t,!0);return r&&Yn(a,r),qr>0&&!i&&Be&&(a.shapeFlag&6?Be[Be.indexOf(e)]=a:Be.push(a)),a.patchFlag|=-2,a}if(tu(e)&&(e=e.__vccOpts),t){t=Kc(t);let{class:a,style:l}=t;a&&!ue(a)&&(t.class=Ln(a)),ne(l)&&(Yo(l)&&!M(l)&&(l=be({},l)),t.style=In(l))}const o=ue(e)?1:cc(e)?128:qc(e)?64:ne(e)?4:V(e)?2:0;return R(e,t,r,s,n,o,i,!0)}function Kc(e){return e?Yo(e)||Ds in e?be({},e):e:null}function hr(e,t,r=!1){const{props:s,ref:n,patchFlag:i,children:o}=e,a=t?zc(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Ta(a),ref:t&&t.ref?r&&n?M(n)?n.concat(ms(t)):[n,ms(t)]:ms(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hr(e.ssContent),ssFallback:e.ssFallback&&hr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ss(e=" ",t=0){return ce(Us,null,e,t)}function mg(e,t){const r=ce(_s,null,e);return r.staticCount=t,r}function Ut(e="",t=!1){return t?(te(),Oa(Ft,null,e)):ce(Ft,null,e)}function Ye(e){return e==null||typeof e=="boolean"?ce(Ft):M(e)?ce(we,null,e.slice()):typeof e=="object"?gt(e):ce(Us,null,String(e))}function gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hr(e)}function Yn(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(M(t))r=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),Yn(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!(Ds in t)?t._ctx=Oe:n===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else V(t)?(t={default:t,_ctx:Oe},r=32):(t=String(t),s&64?(r=16,t=[Ss(t)]):r=8);e.children=t,e.shapeFlag|=r}function zc(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=Ln([t.class,s.class]));else if(n==="style")t.style=In([t.style,s.style]);else if(Ts(n)){const i=t[n],o=s[n];o&&i!==o&&!(M(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=s[n])}return t}function Ge(e,t,r,s=null){qe(e,t,7,[r,s])}const Jc=ma();let Wc=0;function Gc(e,t,r){const s=e.type,n=(t?t.appContext:e.appContext)||Jc,i={uid:Wc++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new kl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ya(s,n),emitsOptions:aa(s,n),emit:null,emitted:null,propsDefaults:oe,inheritAttrs:s.inheritAttrs,ctx:oe,data:oe,props:oe,attrs:oe,slots:oe,refs:oe,setupState:oe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=tc.bind(null,i),e.ce&&e.ce(i),i}let me=null,ks,vn;{const e=Lo(),t=(r,s)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};ks=t("__VUE_INSTANCE_SETTERS__",r=>me=r),vn=t("__VUE_SSR_SETTERS__",r=>Ms=r)}const Gr=e=>{const t=me;return ks(e),e.scope.on(),()=>{e.scope.off(),ks(t)}},Ai=()=>{me&&me.scope.off(),ks(null)};function Ra(e){return e.vnode.shapeFlag&4}let Ms=!1;function Qc(e,t=!1){t&&vn(t);const{props:r,children:s}=e.vnode,n=Ra(e);$c(e,r,n,t),Uc(e,s);const i=n?Yc(e,t):void 0;return t&&vn(!1),i}function Yc(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Xo(new Proxy(e.ctx,Pc));const{setup:s}=r;if(s){const n=e.setupContext=s.length>1?Zc(e):null,i=Gr(e);Bt();const o=St(s,e,0,[e.props,n]);if(qt(),i(),jo(o)){if(o.then(Ai,Ai),t)return o.then(a=>{xi(e,a)}).catch(a=>{js(a,e,0)});e.asyncDep=o}else xi(e,o)}else Ca(e)}function xi(e,t,r){V(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ne(t)&&(e.setupState=ra(t)),Ca(e)}function Ca(e,t,r){const s=e.type;e.render||(e.render=s.render||Ue);{const n=Gr(e);Bt();try{Oc(e)}finally{qt(),n()}}}function Xc(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Te(e,"get","$attrs"),t[r]}}))}function Zc(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return Xc(e)},slots:e.slots,emit:e.emit,expose:t}}function Ns(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ra(Xo(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Rr)return Rr[r](e)},has(t,r){return r in t||r in Rr}}))}function eu(e,t=!0){return V(e)?e.displayName||e.name:e.name||t&&e.__name}function tu(e){return V(e)&&"__vccOpts"in e}const Pe=(e,t)=>zl(e,t,Ms);function Aa(e,t,r){const s=arguments.length;return s===2?ne(t)&&!M(t)?mn(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&mn(r)&&(r=[r]),ce(e,t,r))}const ru="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const su="http://www.w3.org/2000/svg",nu="http://www.w3.org/1998/Math/MathML",_t=typeof document<"u"?document:null,ji=_t&&_t.createElement("template"),iu={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const n=t==="svg"?_t.createElementNS(su,e):t==="mathml"?_t.createElementNS(nu,e):_t.createElement(e,r?{is:r}:void 0);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>_t.createTextNode(e),createComment:e=>_t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,n,i){const o=r?r.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{ji.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const a=ji.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ou=Symbol("_vtc");function au(e,t,r){const s=e[ou];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const $i=Symbol("_vod"),lu=Symbol("_vsh"),cu=Symbol(""),uu=/(^|;)\s*display\s*:/;function hu(e,t,r){const s=e.style,n=ue(r);let i=!1;if(r&&!n){if(t)if(ue(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&vs(s,a,"")}else for(const o in t)r[o]==null&&vs(s,o,"");for(const o in r)o==="display"&&(i=!0),vs(s,o,r[o])}else if(n){if(t!==r){const o=s[cu];o&&(r+=";"+o),s.cssText=r,i=uu.test(r)}}else t&&e.removeAttribute("style");$i in e&&(e[$i]=i?s.display:"",e[lu]&&(s.display="none"))}const Ii=/\s*!important$/;function vs(e,t,r){if(M(r))r.forEach(s=>vs(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=du(e,t);Ii.test(r)?e.setProperty(mr(s),r.replace(Ii,""),"important"):e[s]=r}}const Li=["Webkit","Moz","ms"],Gs={};function du(e,t){const r=Gs[t];if(r)return r;let s=Ze(t);if(s!=="filter"&&s in e)return Gs[t]=s;s=Cs(s);for(let n=0;n<Li.length;n++){const i=Li[n]+s;if(i in e)return Gs[t]=i}return t}const Ui="http://www.w3.org/1999/xlink";function fu(e,t,r,s,n){if(s&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Ui,t.slice(6,t.length)):e.setAttributeNS(Ui,t,r);else{const i=El(t);r==null||i&&!Uo(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function pu(e,t,r,s,n,i,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,n,i),e[t]=r??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,c=r??"";(u!==c||!("_value"in e))&&(e.value=c),r==null&&e.removeAttribute(t),e._value=r;return}let l=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=Uo(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function wt(e,t,r,s){e.addEventListener(t,r,s)}function gu(e,t,r,s){e.removeEventListener(t,r,s)}const Di=Symbol("_vei");function _u(e,t,r,s,n=null){const i=e[Di]||(e[Di]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=mu(t);if(s){const u=i[t]=wu(s,n);wt(e,a,u,l)}else o&&(gu(e,a,o,l),i[t]=void 0)}}const Mi=/(?:Once|Passive|Capture)$/;function mu(e){let t;if(Mi.test(e)){t={};let s;for(;s=e.match(Mi);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mr(e.slice(2)),t]}let Qs=0;const vu=Promise.resolve(),yu=()=>Qs||(vu.then(()=>Qs=0),Qs=Date.now());function wu(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;qe(bu(s,r.value),t,5,[s])};return r.value=e,r.attached=yu(),r}function bu(e,t){if(M(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const Ni=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Eu=(e,t,r,s,n,i,o,a,l)=>{const u=n==="svg";t==="class"?au(e,s,u):t==="style"?hu(e,r,s):Ts(t)?xn(t)||_u(e,t,r,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Su(e,t,s,u))?pu(e,t,s,i,o,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),fu(e,t,s,u))};function Su(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ni(t)&&V(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ni(t)&&ue(r)?!1:t in e}const dr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return M(t)?r=>us(t,r):t};function ku(e){e.target.composing=!0}function Fi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const it=Symbol("_assign"),Dt={created(e,{modifiers:{lazy:t,trim:r,number:s}},n){e[it]=dr(n);const i=s||n.props&&n.props.type==="number";wt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;r&&(a=a.trim()),i&&(a=Mr(a)),e[it](a)}),r&&wt(e,"change",()=>{e.value=e.value.trim()}),t||(wt(e,"compositionstart",ku),wt(e,"compositionend",Fi),wt(e,"change",Fi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:s,number:n}},i){if(e[it]=dr(i),e.composing)return;const o=n||e.type==="number"?Mr(e.value):e.value,a=t??"";o!==a&&(document.activeElement===e&&e.type!=="range"&&(r||s&&e.value.trim()===a)||(e.value=a))}},vg={deep:!0,created(e,t,r){e[it]=dr(r),wt(e,"change",()=>{const s=e._modelValue,n=Vr(e),i=e.checked,o=e[it];if(M(s)){const a=Un(s,n),l=a!==-1;if(i&&!l)o(s.concat(n));else if(!i&&l){const u=[...s];u.splice(a,1),o(u)}}else if(_r(s)){const a=new Set(s);i?a.add(n):a.delete(n),o(a)}else o(xa(e,i))})},mounted:Bi,beforeUpdate(e,t,r){e[it]=dr(r),Bi(e,t,r)}};function Bi(e,{value:t,oldValue:r},s){e._modelValue=t,M(t)?e.checked=Un(t,s.props.value)>-1:_r(t)?e.checked=t.has(s.props.value):t!==r&&(e.checked=Wr(t,xa(e,!0)))}const Pu={deep:!0,created(e,{value:t,modifiers:{number:r}},s){const n=_r(t);wt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?Mr(Vr(o)):Vr(o));e[it](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,Kn(()=>{e._assigning=!1})}),e[it]=dr(s)},mounted(e,{value:t,modifiers:{number:r}}){qi(e,t,r)},beforeUpdate(e,t,r){e[it]=dr(r)},updated(e,{value:t,modifiers:{number:r}}){e._assigning||qi(e,t,r)}};function qi(e,t,r){const s=e.multiple,n=M(t);if(!(s&&!n&&!_r(t))){for(let i=0,o=e.options.length;i<o;i++){const a=e.options[i],l=Vr(a);if(s)if(n){const u=typeof l;u==="string"||u==="number"?a.selected=t.includes(r?Mr(l):l):a.selected=Un(t,l)>-1}else a.selected=t.has(l);else if(Wr(Vr(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Vr(e){return"_value"in e?e._value:e.value}function xa(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const Ou=["ctrl","shift","alt","meta"],Tu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ou.some(r=>e[`${r}Key`]&&!t.includes(r))},Ps=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=Tu[t[o]];if(a&&a(n,t))return}return e(n,...i)})},Ru=be({patchProp:Eu},iu);let Vi;function Cu(){return Vi||(Vi=Mc(Ru))}const Au=(...e)=>{const t=Cu().createApp(...e),{mount:r}=t;return t.mount=s=>{const n=ju(s);if(!n)return;const i=t._component;!V(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const o=r(n,!1,xu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function xu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ju(e){return ue(e)?document.querySelector(e):e}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rr=typeof document<"u";function $u(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Y=Object.assign;function Ys(e,t){const r={};for(const s in t){const n=t[s];r[s]=He(n)?n.map(e):e(n)}return r}const xr=()=>{},He=Array.isArray,ja=/#/g,Iu=/&/g,Lu=/\//g,Uu=/=/g,Du=/\?/g,$a=/\+/g,Mu=/%5B/g,Nu=/%5D/g,Ia=/%5E/g,Fu=/%60/g,La=/%7B/g,Bu=/%7C/g,Ua=/%7D/g,qu=/%20/g;function Xn(e){return encodeURI(""+e).replace(Bu,"|").replace(Mu,"[").replace(Nu,"]")}function Vu(e){return Xn(e).replace(La,"{").replace(Ua,"}").replace(Ia,"^")}function yn(e){return Xn(e).replace($a,"%2B").replace(qu,"+").replace(ja,"%23").replace(Iu,"%26").replace(Fu,"`").replace(La,"{").replace(Ua,"}").replace(Ia,"^")}function Hu(e){return yn(e).replace(Uu,"%3D")}function Ku(e){return Xn(e).replace(ja,"%23").replace(Du,"%3F")}function zu(e){return e==null?"":Ku(e).replace(Lu,"%2F")}function Hr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Ju=/\/$/,Wu=e=>e.replace(Ju,"");function Xs(e,t,r="/"){let s,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),n=e(i)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Xu(s??t,r),{fullPath:s+(i&&"?")+i+o,path:s,query:n,hash:Hr(o)}}function Gu(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Hi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Qu(e,t,r){const s=t.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&fr(t.matched[s],r.matched[n])&&Da(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function fr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Da(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Yu(e[r],t[r]))return!1;return!0}function Yu(e,t){return He(e)?Ki(e,t):He(t)?Ki(t,e):e===t}function Ki(e,t){return He(t)?e.length===t.length&&e.every((r,s)=>r===t[s]):e.length===1&&e[0]===t}function Xu(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),s=e.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}var Kr;(function(e){e.pop="pop",e.push="push"})(Kr||(Kr={}));var jr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(jr||(jr={}));function Zu(e){if(!e)if(rr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Wu(e)}const eh=/^[^#]+#/;function th(e,t){return e.replace(eh,"#")+t}function rh(e,t){const r=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-r.left-(t.left||0),top:s.top-r.top-(t.top||0)}}const Fs=()=>({left:window.scrollX,top:window.scrollY});function sh(e){let t;if("el"in e){const r=e.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;t=rh(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function zi(e,t){return(history.state?history.state.position-t:-1)+e}const wn=new Map;function nh(e,t){wn.set(e,t)}function ih(e){const t=wn.get(e);return wn.delete(e),t}let oh=()=>location.protocol+"//"+location.host;function Ma(e,t){const{pathname:r,search:s,hash:n}=t,i=e.indexOf("#");if(i>-1){let a=n.includes(e.slice(i))?e.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Hi(l,"")}return Hi(r,e)+s+n}function ah(e,t,r,s){let n=[],i=[],o=null;const a=({state:d})=>{const p=Ma(e,location),m=r.value,w=t.value;let v=0;if(d){if(r.value=p,t.value=d,o&&o===m){o=null;return}v=w?d.position-w.position:0}else s(p);n.forEach(k=>{k(r.value,m,{delta:v,type:Kr.pop,direction:v?v>0?jr.forward:jr.back:jr.unknown})})};function l(){o=r.value}function u(d){n.push(d);const p=()=>{const m=n.indexOf(d);m>-1&&n.splice(m,1)};return i.push(p),p}function c(){const{history:d}=window;d.state&&d.replaceState(Y({},d.state,{scroll:Fs()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Ji(e,t,r,s=!1,n=!1){return{back:e,current:t,forward:r,replaced:s,position:window.history.length,scroll:n?Fs():null}}function lh(e){const{history:t,location:r}=window,s={value:Ma(e,r)},n={value:t.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),d=h>-1?(r.host&&document.querySelector("base")?e:e.slice(h))+l:oh()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),n.value=u}catch(p){console.error(p),r[c?"replace":"assign"](d)}}function o(l,u){const c=Y({},t.state,Ji(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),s.value=l}function a(l,u){const c=Y({},n.value,t.state,{forward:l,scroll:Fs()});i(c.current,c,!0);const h=Y({},Ji(s.value,l,null),{position:c.position+1},u);i(l,h,!1),s.value=l}return{location:s,state:n,push:a,replace:o}}function ch(e){e=Zu(e);const t=lh(e),r=ah(e,t.state,t.location,t.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=Y({location:"",base:e,go:s,createHref:th.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function uh(e){return typeof e=="string"||e&&typeof e=="object"}function Na(e){return typeof e=="string"||typeof e=="symbol"}const ut={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Fa=Symbol("");var Wi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Wi||(Wi={}));function pr(e,t){return Y(new Error,{type:e,[Fa]:!0},t)}function tt(e,t){return e instanceof Error&&Fa in e&&(t==null||!!(e.type&t))}const Gi="[^/]+?",hh={sensitive:!1,strict:!1,start:!0,end:!0},dh=/[.+*?^${}()[\]/\\]/g;function fh(e,t){const r=Y({},hh,t),s=[];let n=r.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];r.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const d=u[h];let p=40+(r.sensitive?.25:0);if(d.type===0)h||(n+="/"),n+=d.value.replace(dh,"\\$&"),p+=40;else if(d.type===1){const{value:m,repeatable:w,optional:v,regexp:k}=d;i.push({name:m,repeatable:w,optional:v});const C=k||Gi;if(C!==Gi){p+=10;try{new RegExp(`(${C})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+O.message)}}let A=w?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(A=v&&u.length<2?`(?:/${A})`:"/"+A),v&&(A+="?"),n+=A,p+=20,v&&(p+=-8),w&&(p+=-20),C===".*"&&(p+=-50)}c.push(p)}s.push(c)}if(r.strict&&r.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",m=i[d-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const d of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:m,repeatable:w,optional:v}=p,k=m in u?u[m]:"";if(He(k)&&!w)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=He(k)?k.join("/"):k;if(!C)if(v)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);c+=C}}return c||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function ph(e,t){let r=0;for(;r<e.length&&r<t.length;){const s=t[r]-e[r];if(s)return s;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function gh(e,t){let r=0;const s=e.score,n=t.score;for(;r<s.length&&r<n.length;){const i=ph(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(Qi(s))return 1;if(Qi(n))return-1}return n.length-s.length}function Qi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const _h={type:0,value:""},mh=/[a-zA-Z0-9_]/;function vh(e){if(!e)return[[]];if(e==="/")return[[_h]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${r})/"${u}": ${p}`)}let r=0,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(r===0?i.push({type:0,value:u}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&r!==2){s=r,r=4;continue}switch(r){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),r=1):d();break;case 4:d(),r=s;break;case 1:l==="("?r=2:mh.test(l)?d():(h(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:h(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function yh(e,t,r){const s=fh(vh(e.path),r),n=Y(s,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function wh(e,t){const r=[],s=new Map;t=Zi({strict:!1,end:!0,sensitive:!1},t);function n(c){return s.get(c)}function i(c,h,d){const p=!d,m=bh(c);m.aliasOf=d&&d.record;const w=Zi(t,c),v=[m];if("alias"in c){const A=typeof c.alias=="string"?[c.alias]:c.alias;for(const O of A)v.push(Y({},m,{components:d?d.record.components:m.components,path:O,aliasOf:d?d.record:m}))}let k,C;for(const A of v){const{path:O}=A;if(h&&O[0]!=="/"){const B=h.record.path,F=B[B.length-1]==="/"?"":"/";A.path=h.record.path+(O&&F+O)}if(k=yh(A,h,w),d?d.alias.push(k):(C=C||k,C!==k&&C.alias.push(k),p&&c.name&&!Xi(k)&&o(c.name)),m.children){const B=m.children;for(let F=0;F<B.length;F++)i(B[F],k,d&&d.children[F])}d=d||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&l(k)}return C?()=>{o(C)}:xr}function o(c){if(Na(c)){const h=s.get(c);h&&(s.delete(c),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(c);h>-1&&(r.splice(h,1),c.record.name&&s.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return r}function l(c){let h=0;for(;h<r.length&&gh(c,r[h])>=0&&(c.record.path!==r[h].record.path||!Ba(c,r[h]));)h++;r.splice(h,0,c),c.record.name&&!Xi(c)&&s.set(c.record.name,c)}function u(c,h){let d,p={},m,w;if("name"in c&&c.name){if(d=s.get(c.name),!d)throw pr(1,{location:c});w=d.record.name,p=Y(Yi(h.params,d.keys.filter(C=>!C.optional).concat(d.parent?d.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),c.params&&Yi(c.params,d.keys.map(C=>C.name))),m=d.stringify(p)}else if(c.path!=null)m=c.path,d=r.find(C=>C.re.test(m)),d&&(p=d.parse(m),w=d.record.name);else{if(d=h.name?s.get(h.name):r.find(C=>C.re.test(h.path)),!d)throw pr(1,{location:c,currentLocation:h});w=d.record.name,p=Y({},h.params,c.params),m=d.stringify(p)}const v=[];let k=d;for(;k;)v.unshift(k.record),k=k.parent;return{name:w,path:m,params:p,matched:v,meta:Sh(v)}}return e.forEach(c=>i(c)),{addRoute:i,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:n}}function Yi(e,t){const r={};for(const s of t)s in e&&(r[s]=e[s]);return r}function bh(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Eh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Eh(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const s in e.components)t[s]=typeof r=="object"?r[s]:r;return t}function Xi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Sh(e){return e.reduce((t,r)=>Y(t,r.meta),{})}function Zi(e,t){const r={};for(const s in e)r[s]=s in t?t[s]:e[s];return r}function Ba(e,t){return t.children.some(r=>r===e||Ba(e,r))}function kh(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<s.length;++n){const i=s[n].replace($a," "),o=i.indexOf("="),a=Hr(o<0?i:i.slice(0,o)),l=o<0?null:Hr(i.slice(o+1));if(a in t){let u=t[a];He(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function eo(e){let t="";for(let r in e){const s=e[r];if(r=Hu(r),s==null){s!==void 0&&(t+=(t.length?"&":"")+r);continue}(He(s)?s.map(i=>i&&yn(i)):[s&&yn(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function Ph(e){const t={};for(const r in e){const s=e[r];s!==void 0&&(t[r]=He(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return t}const Oh=Symbol(""),to=Symbol(""),Bs=Symbol(""),Zn=Symbol(""),bn=Symbol("");function Er(){let e=[];function t(s){return e.push(s),()=>{const n=e.indexOf(s);n>-1&&e.splice(n,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function mt(e,t,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(pr(4,{from:r,to:t})):d instanceof Error?l(d):uh(d)?l(pr(2,{from:t,to:d})):(o&&s.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>e.call(s&&s.instances[n],t,r,u));let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch(d=>l(d))})}function Zs(e,t,r,s,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Th(l)){const c=(l.__vccOpts||l)[t];c&&i.push(mt(c,r,s,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=$u(c)?c.default:c;o.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&mt(p,r,s,o,a,n)()}))}}return i}function Th(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ro(e){const t=Ve(Bs),r=Ve(Zn),s=Pe(()=>t.resolve(Ie(e.to))),n=Pe(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],h=r.matched;if(!c||!h.length)return-1;const d=h.findIndex(fr.bind(null,c));if(d>-1)return d;const p=so(l[u-2]);return u>1&&so(c)===p&&h[h.length-1].path!==p?h.findIndex(fr.bind(null,l[u-2])):d}),i=Pe(()=>n.value>-1&&xh(r.params,s.value.params)),o=Pe(()=>n.value>-1&&n.value===r.matched.length-1&&Da(r.params,s.value.params));function a(l={}){return Ah(l)?t[Ie(e.replace)?"replace":"push"](Ie(e.to)).catch(xr):Promise.resolve()}return{route:s,href:Pe(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const Rh=ha({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ro,setup(e,{slots:t}){const r=xs(ro(e)),{options:s}=Ve(Bs),n=Pe(()=>({[no(e.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[no(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&t.default(r);return e.custom?i:Aa("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),Ch=Rh;function Ah(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function xh(e,t){for(const r in t){const s=t[r],n=e[r];if(typeof s=="string"){if(s!==n)return!1}else if(!He(n)||n.length!==s.length||s.some((i,o)=>i!==n[o]))return!1}return!0}function so(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const no=(e,t,r)=>e??t??r,jh=ha({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const s=Ve(bn),n=Pe(()=>e.route||s.value),i=Ve(to,0),o=Pe(()=>{let u=Ie(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Pe(()=>n.value.matched[o.value]);gs(to,Pe(()=>o.value+1)),gs(Oh,a),gs(bn,n);const l=se();return lr(()=>[l.value,a.value,e.name],([u,c,h],[d,p,m])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!fr(c,p)||!d)&&(c.enterCallbacks[h]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=n.value,c=e.name,h=a.value,d=h&&h.components[c];if(!d)return io(r.default,{Component:d,route:u});const p=h.props[c],m=p?p===!0?u.params:typeof p=="function"?p(u):p:null,v=Aa(d,Y({},m,t,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return io(r.default,{Component:v,route:u})||v}}});function io(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const $h=jh;function Ih(e){const t=wh(e.routes,e),r=e.parseQuery||kh,s=e.stringifyQuery||eo,n=e.history,i=Er(),o=Er(),a=Er(),l=Jl(ut);let u=ut;rr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ys.bind(null,b=>""+b),h=Ys.bind(null,zu),d=Ys.bind(null,Hr);function p(b,I){let j,U;return Na(b)?(j=t.getRecordMatcher(b),U=I):U=b,t.addRoute(U,j)}function m(b){const I=t.getRecordMatcher(b);I&&t.removeRoute(I)}function w(){return t.getRoutes().map(b=>b.record)}function v(b){return!!t.getRecordMatcher(b)}function k(b,I){if(I=Y({},I||l.value),typeof b=="string"){const _=Xs(r,b,I.path),y=t.resolve({path:_.path},I),E=n.createHref(_.fullPath);return Y(_,y,{params:d(y.params),hash:Hr(_.hash),redirectedFrom:void 0,href:E})}let j;if(b.path!=null)j=Y({},b,{path:Xs(r,b.path,I.path).path});else{const _=Y({},b.params);for(const y in _)_[y]==null&&delete _[y];j=Y({},b,{params:h(_)}),I.params=h(I.params)}const U=t.resolve(j,I),ee=b.hash||"";U.params=c(d(U.params));const f=Gu(s,Y({},b,{hash:Vu(ee),path:U.path})),g=n.createHref(f);return Y({fullPath:f,hash:ee,query:s===eo?Ph(b.query):b.query||{}},U,{redirectedFrom:void 0,href:g})}function C(b){return typeof b=="string"?Xs(r,b,l.value.path):Y({},b)}function A(b,I){if(u!==b)return pr(8,{from:I,to:b})}function O(b){return le(b)}function B(b){return O(Y(C(b),{replace:!0}))}function F(b){const I=b.matched[b.matched.length-1];if(I&&I.redirect){const{redirect:j}=I;let U=typeof j=="function"?j(b):j;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=C(U):{path:U},U.params={}),Y({query:b.query,hash:b.hash,params:U.path!=null?{}:b.params},U)}}function le(b,I){const j=u=k(b),U=l.value,ee=b.state,f=b.force,g=b.replace===!0,_=F(j);if(_)return le(Y(C(_),{state:typeof _=="object"?Y({},ee,_.state):ee,force:f,replace:g}),I||j);const y=j;y.redirectedFrom=I;let E;return!f&&Qu(s,U,j)&&(E=pr(16,{to:y,from:U}),Je(U,U,!0,!1)),(E?Promise.resolve(E):Ke(y,U)).catch(S=>tt(S)?tt(S,2)?S:lt(S):Q(S,y,U)).then(S=>{if(S){if(tt(S,2))return le(Y({replace:g},C(S.to),{state:typeof S.to=="object"?Y({},ee,S.to.state):ee,force:f}),I||y)}else S=Rt(y,U,!0,g,ee);return at(y,U,S),S})}function Le(b,I){const j=A(b,I);return j?Promise.reject(j):Promise.resolve()}function Tt(b){const I=zt.values().next().value;return I&&typeof I.runWithContext=="function"?I.runWithContext(b):b()}function Ke(b,I){let j;const[U,ee,f]=Lh(b,I);j=Zs(U.reverse(),"beforeRouteLeave",b,I);for(const _ of U)_.leaveGuards.forEach(y=>{j.push(mt(y,b,I))});const g=Le.bind(null,b,I);return j.push(g),pe(j).then(()=>{j=[];for(const _ of i.list())j.push(mt(_,b,I));return j.push(g),pe(j)}).then(()=>{j=Zs(ee,"beforeRouteUpdate",b,I);for(const _ of ee)_.updateGuards.forEach(y=>{j.push(mt(y,b,I))});return j.push(g),pe(j)}).then(()=>{j=[];for(const _ of f)if(_.beforeEnter)if(He(_.beforeEnter))for(const y of _.beforeEnter)j.push(mt(y,b,I));else j.push(mt(_.beforeEnter,b,I));return j.push(g),pe(j)}).then(()=>(b.matched.forEach(_=>_.enterCallbacks={}),j=Zs(f,"beforeRouteEnter",b,I,Tt),j.push(g),pe(j))).then(()=>{j=[];for(const _ of o.list())j.push(mt(_,b,I));return j.push(g),pe(j)}).catch(_=>tt(_,8)?_:Promise.reject(_))}function at(b,I,j){a.list().forEach(U=>Tt(()=>U(b,I,j)))}function Rt(b,I,j,U,ee){const f=A(b,I);if(f)return f;const g=I===ut,_=rr?history.state:{};j&&(U||g?n.replace(b.fullPath,Y({scroll:g&&_&&_.scroll},ee)):n.push(b.fullPath,ee)),l.value=b,Je(b,I,j,g),lt()}let ze;function yr(){ze||(ze=n.listen((b,I,j)=>{if(!Xr.listening)return;const U=k(b),ee=F(U);if(ee){le(Y(ee,{replace:!0}),U).catch(xr);return}u=U;const f=l.value;rr&&nh(zi(f.fullPath,j.delta),Fs()),Ke(U,f).catch(g=>tt(g,12)?g:tt(g,2)?(le(g.to,U).then(_=>{tt(_,20)&&!j.delta&&j.type===Kr.pop&&n.go(-1,!1)}).catch(xr),Promise.reject()):(j.delta&&n.go(-j.delta,!1),Q(g,U,f))).then(g=>{g=g||Rt(U,f,!1),g&&(j.delta&&!tt(g,8)?n.go(-j.delta,!1):j.type===Kr.pop&&tt(g,20)&&n.go(-1,!1)),at(U,f,g)}).catch(xr)}))}let Ht=Er(),he=Er(),X;function Q(b,I,j){lt(b);const U=he.list();return U.length?U.forEach(ee=>ee(b,I,j)):console.error(b),Promise.reject(b)}function et(){return X&&l.value!==ut?Promise.resolve():new Promise((b,I)=>{Ht.add([b,I])})}function lt(b){return X||(X=!b,yr(),Ht.list().forEach(([I,j])=>b?j(b):I()),Ht.reset()),b}function Je(b,I,j,U){const{scrollBehavior:ee}=e;if(!rr||!ee)return Promise.resolve();const f=!j&&ih(zi(b.fullPath,0))||(U||!j)&&history.state&&history.state.scroll||null;return Kn().then(()=>ee(b,I,f)).then(g=>g&&sh(g)).catch(g=>Q(g,b,I))}const Ee=b=>n.go(b);let Kt;const zt=new Set,Xr={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:v,getRoutes:w,resolve:k,options:e,push:O,replace:B,go:Ee,back:()=>Ee(-1),forward:()=>Ee(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:he.add,isReady:et,install(b){const I=this;b.component("RouterLink",Ch),b.component("RouterView",$h),b.config.globalProperties.$router=I,Object.defineProperty(b.config.globalProperties,"$route",{enumerable:!0,get:()=>Ie(l)}),rr&&!Kt&&l.value===ut&&(Kt=!0,O(n.location).catch(ee=>{}));const j={};for(const ee in ut)Object.defineProperty(j,ee,{get:()=>l.value[ee],enumerable:!0});b.provide(Bs,I),b.provide(Zn,Go(j)),b.provide(bn,l);const U=b.unmount;zt.add(b),b.unmount=function(){zt.delete(b),zt.size<1&&(u=ut,ze&&ze(),ze=null,l.value=ut,Kt=!1,X=!1),U()}}};function pe(b){return b.reduce((I,j)=>I.then(()=>Tt(j)),Promise.resolve())}return Xr}function Lh(e,t){const r=[],s=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>fr(u,a))?s.push(a):r.push(a));const l=e.matched[o];l&&(t.matched.find(u=>fr(u,l))||n.push(l))}return[r,s,n]}function Uh(){return Ve(Bs)}function yg(){return Ve(Zn)}const Dh="modulepreload",Mh=function(e,t){return new URL(e,t).href},oo={},$e=function(t,r,s){let n=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(r.map(u=>{if(u=Mh(u,s),u in oo)return;oo[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!s)for(let m=o.length-1;m>=0;m--){const w=o[m];if(w.href===u&&(!c||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Dh,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((m,w)=>{p.addEventListener("load",m),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Nh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$e(async()=>{const{default:s}=await Promise.resolve().then(()=>vr);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class ei extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class Fh extends ei{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Bh extends ei{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qh extends ei{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var En;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(En||(En={}));var Vh=function(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};class Hh{constructor(t,{headers:r={},customFetch:s,region:n=En.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=Nh(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return Vh(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(m=>{throw new Fh(m)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Bh(c);if(!c.ok)throw new qh(c);let d=((s=c.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield c.json():d==="application/octet-stream"?p=yield c.blob():d==="text/event-stream"?p=c:d==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}function Kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zh(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),r}var de={},Wt={},Gt={},Qt={},Yt={},Xt={},Jh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gr=Jh();const Wh=gr.fetch,qa=gr.fetch.bind(gr),Va=gr.Headers,Gh=gr.Request,Qh=gr.Response,vr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Va,Request:Gh,Response:Qh,default:qa,fetch:Wh},Symbol.toStringTag,{value:"Module"})),Yh=zh(vr);var is={},ao;function Ha(){if(ao)return is;ao=1,Object.defineProperty(is,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return is.default=e,is}var lo;function Ka(){if(lo)return Xt;lo=1;var e=Xt&&Xt.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xt,"__esModule",{value:!0});const t=e(Yh),r=e(Ha());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,d;let p=null,m=null,w=null,v=u.status,k=u.statusText;if(u.ok){if(this.method!=="HEAD"){const B=await u.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=B:m=JSON.parse(B))}const A=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),O=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");A&&O&&O.length>1&&(w=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,w=null,v=406,k="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const A=await u.text();try{p=JSON.parse(A),Array.isArray(p)&&u.status===404&&(m=[],p=null,v=200,k="OK")}catch{u.status===404&&A===""?(v=204,k="No Content"):p={message:A}}if(p&&this.isMaybeSingle&&(!((d=p==null?void 0:p.details)===null||d===void 0)&&d.includes("0 rows"))&&(p=null,v=200,k="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:m,count:w,status:v,statusText:k}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,d;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=u==null?void 0:u.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Xt.default=s,Xt}var co;function za(){if(co)return Yt;co=1;var e=Yt&&Yt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Yt,"__esModule",{value:!0});const t=e(Ka());class r extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Yt.default=r,Yt}var uo;function ti(){if(uo)return Qt;uo=1;var e=Qt&&Qt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qt,"__esModule",{value:!0});const t=e(za());class r extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return Qt.default=r,Qt}var ho;function Ja(){if(ho)return Gt;ho=1;var e=Gt&&Gt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Gt,"__esModule",{value:!0});const t=e(ti());class r{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(h.length>0){const d=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gt.default=r,Gt}var Sr={},kr={},fo;function Xh(){return fo||(fo=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.version=void 0,kr.version="0.0.0-automated"),kr}var po;function Zh(){if(po)return Sr;po=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.DEFAULT_HEADERS=void 0;const e=Xh();return Sr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Sr}var go;function ed(){if(go)return Wt;go=1;var e=Wt&&Wt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Wt,"__esModule",{value:!0});const t=e(Ja()),r=e(ti()),s=Zh();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let p;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([w,v])=>v!==void 0).map(([w,v])=>[w,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([w,v])=>{d.searchParams.append(w,v)})):(h="POST",p=a);const m=Object.assign({},this.headers);return c&&(m.Prefer=`count=${c}`),new r.default({method:h,url:d,headers:m,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return Wt.default=n,Wt}var _o;function td(){if(_o)return de;_o=1;var e=de&&de.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(de,"__esModule",{value:!0}),de.PostgrestError=de.PostgrestBuilder=de.PostgrestTransformBuilder=de.PostgrestFilterBuilder=de.PostgrestQueryBuilder=de.PostgrestClient=void 0;const t=e(ed());de.PostgrestClient=t.default;const r=e(Ja());de.PostgrestQueryBuilder=r.default;const s=e(ti());de.PostgrestFilterBuilder=s.default;const n=e(za());de.PostgrestTransformBuilder=n.default;const i=e(Ka());de.PostgrestBuilder=i.default;const o=e(Ha());return de.PostgrestError=o.default,de.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},de}var rd=td();const sd=Kh(rd),{PostgrestClient:nd,PostgrestQueryBuilder:wg,PostgrestFilterBuilder:bg,PostgrestTransformBuilder:Eg,PostgrestBuilder:Sg,PostgrestError:kg}=sd,id="2.11.2",od={"X-Client-Info":`realtime-js/${id}`},ad="1.0.0",Wa=1e4,ld=1e3;var cr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cr||(cr={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var Fe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fe||(Fe={}));var Sn;(function(e){e.websocket="websocket"})(Sn||(Sn={}));var It;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(It||(It={}));class cd{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(t.slice(o,o+n));o=o+n;const l=s.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ga{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const mo=(e,t,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=ud(o,e,t,n),i),{})},ud=(e,t,r,s)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=r[e];return i&&!s.includes(i)?Qa(i,o):kn(o)},Qa=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return pd(t,r)}switch(e){case re.bool:return hd(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return dd(t);case re.json:case re.jsonb:return fd(t);case re.timestamp:return gd(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return kn(t);default:return kn(t)}},kn=e=>e,hd=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dd=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fd=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},pd=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Qa(t,a))}return e},gd=e=>typeof e=="string"?e.replace(" ","T"):e,Ya=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class en{constructor(t,r,s={},n=Wa){this.channel=t,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vo||(vo={}));class $r{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=$r.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=$r.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,n){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),m=c.filter(v=>p.indexOf(v.presence_ref)<0),w=h.filter(v=>d.indexOf(v.presence_ref)<0);m.length>0&&(a[u]=m),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(t,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(p=>p.presence_ref),d=c.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...d)}s(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,n(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const n=t[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yo||(yo={}));var wo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wo||(wo={}));var rt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class ri{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new en(this,Fe.join,this.params,this.timeout),this.rejoinTimer=new Ga(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fe.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new $r(this),this.broadcastEndpointURL=Ya(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(rt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(rt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(rt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,p=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,m=[];for(let w=0;w<p;w++){const v=d[w],{filter:{event:k,schema:C,table:A,filter:O}}=v,B=c&&c[w];if(B&&B.event===k&&B.schema===C&&B.table===A&&B.filter===O)m.push(Object.assign(Object.assign({},v),{id:B.id}));else{this.unsubscribe(),t==null||t(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(rt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this._on(t,r,s)}async send(t,r={}){var s,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const n=new en(this,Fe.leave,{},t);n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new en(this,t,r,s);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Fe;if(s&&[a,l,u,c].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,r,s);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var m,w,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(w=p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var m,w,v,k,C,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const O=p.id,B=(m=p.filter)===null||m===void 0?void 0:m.event;return O&&((w=r.ids)===null||w===void 0?void 0:w.includes(O))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const O=(C=(k=p==null?void 0:p.filter)===null||k===void 0?void 0:k.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return O==="*"||O===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:w,table:v,commit_timestamp:k,type:C,errors:A}=m;d=Object.assign(Object.assign({},{schema:w,table:v,commit_timestamp:k,eventType:C,new:{},old:{},errors:A}),this._getPayloadRecords(m))}p.callback(d,s)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&ri.isEqual(n.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fe.close,{},t)}_onError(t){this._on(Fe.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mo(t.columns,t.old_record)),r}}const _d=()=>{},md=typeof WebSocket<"u",vd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yd{constructor(t,r){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=od,this.params={},this.timeout=Wa,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=_d,this.conn=null,this.sendBuffer=[],this.serializer=new cd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>$e(async()=>{const{default:l}=await Promise.resolve().then(()=>vr);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Sn.websocket}`,this.httpEndpoint=Ya(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const n=(s=r==null?void 0:r.params)===null||s===void 0?void 0:s.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ga(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(md){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new wd(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$e(async()=>{const{default:t}=await import("./browser-DY2aEark.js").then(r=>r.b);return{default:t}},[],import.meta.url).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ad}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case cr.connecting:return It.Connecting;case cr.open:return It.Open;case cr.closing:return It.Closing;default:return It.Closed}}isConnected(){return this.connectionState()===It.Open}channel(t,r={config:{}}){const s=new ri(`realtime:${t}`,r,this);return this.channels.push(s),s}push(t){const{topic:r,event:s,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let s=null;try{s=JSON.parse(atob(r.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r}),n.joinedOnce&&n._isJoined()&&n._push(Fe.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ld,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:s,event:n,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fe.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${s}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([vd],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}}class wd{constructor(t,r,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=cr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=s.close}}class si extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bd extends si{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pn extends si{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ed=function(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};const Xa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$e(async()=>{const{default:s}=await Promise.resolve().then(()=>vr);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},Sd=()=>Ed(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $e(()=>Promise.resolve().then(()=>vr),void 0,import.meta.url)).Response:Response}),On=e=>{if(Array.isArray(e))return e.map(r=>On(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=On(s)}),t};var Vt=function(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};const tn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kd=(e,t,r)=>Vt(void 0,void 0,void 0,function*(){const s=yield Sd();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{t(new bd(tn(n),e.status||500))}).catch(n=>{t(new Pn(tn(n),n))}):t(new Pn(tn(e),e))}),Pd=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(n.body=JSON.stringify(s)),Object.assign(Object.assign({},n),r))};function Qr(e,t,r,s,n,i){return Vt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Pd(t,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kd(l,a,s))})})}function Os(e,t,r,s){return Vt(this,void 0,void 0,function*(){return Qr(e,"GET",t,r,s)})}function vt(e,t,r,s,n){return Vt(this,void 0,void 0,function*(){return Qr(e,"POST",t,s,n,r)})}function Od(e,t,r,s,n){return Vt(this,void 0,void 0,function*(){return Qr(e,"PUT",t,s,n,r)})}function Td(e,t,r,s){return Vt(this,void 0,void 0,function*(){return Qr(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Za(e,t,r,s,n){return Vt(this,void 0,void 0,function*(){return Qr(e,"DELETE",t,s,n,r)})}var Se=function(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};const Rd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cd{constructor(t,r={},s,n){this.url=t,this.headers=r,this.bucketId=s,this.fetch=Xa(n)}uploadOrUpdate(t,r,s,n){return Se(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bo),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}upload(t,r,s){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,n){return Se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:bo.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield vt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new si("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}update(t,r,s){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return Se(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}copy(t,r,s){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}createSignedUrl(t,r,s){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield vt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}createSignedUrls(t,r,s){return Se(this,void 0,void 0,function*(){try{const n=yield vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}download(t,r){return Se(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Os(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}info(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield Os(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:On(s),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}exists(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Td(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(fe(s)&&s instanceof Pn){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}list(t,r,s){return Se(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Rd),r),{prefix:t||""});return{data:yield vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ad="2.7.1",xd={"X-Client-Info":`storage-js/${Ad}`};var Zt=function(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};class jd{constructor(t,r={},s){this.url=t,this.headers=Object.assign(Object.assign({},xd),r),this.fetch=Xa(s)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}getBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Zt(this,void 0,void 0,function*(){try{return{data:yield Od(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}}class $d extends jd{constructor(t,r={},s){super(t,r,s)}from(t){return new Cd(this.url,this.headers,t,this.fetch)}}const Id="2.49.4";let Or="";typeof Deno<"u"?Or="deno":typeof document<"u"?Or="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Or="react-native":Or="node";const Ld={"X-Client-Info":`supabase-js-${Or}/${Id}`},Ud={headers:Ld},Dd={schema:"public"},Md={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nd={};var Fd=function(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};const Bd=e=>{let t;return e?t=e:typeof fetch>"u"?t=qa:t=fetch,(...r)=>t(...r)},qd=()=>typeof Headers>"u"?Va:Headers,Vd=(e,t,r)=>{const s=Bd(r),n=qd();return(i,o)=>Fd(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var Hd=function(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};function Kd(e){return e.replace(/\/$/,"")}function zd(e,t){const{db:r,auth:s,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Hd(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const el="2.69.1",sr=30*1e3,Tn=3,rn=Tn*sr,Jd="http://localhost:9999",Wd="supabase.auth.token",Gd={"X-Client-Info":`gotrue-js/${el}`},Rn="X-Supabase-Api-Version",tl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Qd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yd=6e5;class ni extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Xd extends ni{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Zd(e){return H(e)&&e.name==="AuthApiError"}class rl extends ni{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ot extends ni{constructor(t,r,s,n){super(t,s,n),this.name=r,this.status=s}}class dt extends Ot{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ef(e){return H(e)&&e.name==="AuthSessionMissingError"}class sn extends Ot{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class os extends Ot{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class as extends Ot{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tf(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class Eo extends Ot{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cn extends Ot{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function nn(e){return H(e)&&e.name==="AuthRetryableFetchError"}class So extends Ot{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Ir extends Ot{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Po=` 	
\r=`.split(""),rf=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Po.length;t+=1)e[Po[t].charCodeAt(0)]=-2;for(let t=0;t<ko.length;t+=1)e[ko[t].charCodeAt(0)]=t;return e})();function sl(e,t,r){const s=rf[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Oo(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{of(o,s,r)};for(let o=0;o<e.length;o+=1)sl(e.charCodeAt(o),n,i);return t.join("")}function sf(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nf(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}sf(s,t)}}function of(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function af(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)sl(e.charCodeAt(n),r,s);return new Uint8Array(t)}function lf(e){const t=[];return nf(e,r=>t.push(r)),new Uint8Array(t)}function cf(e){return Math.round(Date.now()/1e3)+e}function uf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",xt={tested:!1,writable:!1},Lr=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xt.tested)return xt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xt.tested=!0,xt.writable=!0}catch{xt.tested=!0,xt.writable=!1}return xt.writable};function hf(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{t[n]=s}),t}const nl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>$e(async()=>{const{default:s}=await Promise.resolve().then(()=>vr);return{default:s}},void 0,import.meta.url).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},df=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",il=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ls=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cs=async(e,t)=>{await e.removeItem(t)};class qs{constructor(){this.promise=new qs.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qs.promiseConstructor=Promise;function on(e){const t=e.split(".");if(t.length!==3)throw new Ir("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Qd.test(t[s]))throw new Ir("JWT not in base64url format");return{header:JSON.parse(Oo(t[0])),payload:JSON.parse(Oo(t[1])),signature:af(t[2]),raw:{header:t[0],payload:t[1]}}}async function ff(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pf(e,t){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function gf(e){return("0"+e.toString(16)).substr(-2)}function _f(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(t),Array.from(t,gf).join("")}async function mf(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function vf(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await mf(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function er(e,t,r=!1){const s=_f();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await il(e,`${t}-code-verifier`,n);const i=await vf(s);return[i,s===i?"plain":"s256"]}const yf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wf(e){const t=e.headers.get(Rn);if(!t||!t.match(yf))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bf(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ef(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Sf=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r};const jt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kf=[502,503,504];async function To(e){var t;if(!df(e))throw new Cn(jt(e),0);if(kf.includes(e.status))throw new Cn(jt(e),e.status);let r;try{r=await e.json()}catch(i){throw new rl(jt(i),i)}let s;const n=wf(e);if(n&&n.getTime()>=tl["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new So(jt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new dt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new So(jt(r),e.status,r.weak_password.reasons);throw new Xd(jt(r),e.status||500,s)}const Pf=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function z(e,t,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[Rn]||(i[Rn]=tl["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Of(e,t,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Of(e,t,r,s,n,i){const o=Pf(t,s,n,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Cn(jt(l),0)}if(a.ok||await To(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await To(l)}}function ft(e){var t;let r=null;Af(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cf(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Ro(e){const t=ft(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Tf(e){return{data:e,error:null}}function Rf(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=e,o=Sf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Cf(e){return e}function Af(e){return e.access_token&&e.refresh_token&&e.expires_in}var xf=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r};class jf{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=nl(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=xf(t,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Rf,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(H(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Cf});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(H(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){try{const{data:r,error:s}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}const $f={getItem:e=>Lr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Lr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Lr()&&globalThis.localStorage.removeItem(e)}};function Co(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function If(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tr={debug:!!(globalThis&&Lr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ol extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Lf extends ol{}async function Uf(e,t,r){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Lf(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}If();const Df={url:Jd,storageKey:Wd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ao(e,t,r){return await r()}class zr{constructor(t){var r,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zr.nextInstanceID,zr.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Df),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new jf({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=nl(n.fetch),this.lock=n.lock||Ao,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Uf:this.lock=Ao,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Lr()?this.storage=$f:(this.memoryStorage={},this.storage=Co(this.memoryStorage)):(this.memoryStorage={},this.storage=Co(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${el}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=hf(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Qe()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tf(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?{error:r}:{error:new rl("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,n;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:ft}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,s,n;try{let i;if("email"in t){const{email:c,password:h,options:d}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await er(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:m},xform:ft})}else if("phone"in t){const{phone:c,password:h,options:d}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ft})}else throw new os("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ro})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ro})}else throw new os("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new sn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ls(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:ft});if(await cs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=t,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ft}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await er(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new os("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,s;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ft});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var r,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await er(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Tf})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new dt;const{error:n}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:n,options:i}=t,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:n,options:i}=t,{data:o,error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new os("You must provide either an email or phone number and a type")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<rn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:bt})})}catch(r){if(H(r))return ef(r)&&(await this._removeSession(),await cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new dt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await er(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:bt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dt;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=on(t.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(H(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new dt;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qe())throw new as("No browser detected.");if(t.error||t.error_description||t.error_code)throw new as(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Eo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new as("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Eo("No code detected.");const{data:C,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new as("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const p=d-c;p*1e3<=sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=d-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,c);const{data:w,error:v}=await this._getUser(i);if(v)throw v;const k={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(s){if(H(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Zd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=uf(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await er(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(H(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await pf(async n=>(n>0&&await ff(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ft})),(n,i)=>{const o=200*Math.pow(2,n);return i&&nn(i)&&Date.now()+o-s<sr})}catch(s){if(this._debug(r,"error",s),H(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),Qe()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ls(this.storage,this.storageKey);if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const n=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<rn;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${rn}s`),n){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),nn(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new qs;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),H(i)){const o={session:null,error:i};return nn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,s=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await il(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await cs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-t)/sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${sr}ms, refresh threshold is ${Tn} ticks`),n<=Tn&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ol)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await er(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=on(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(o=>o.kid===t);if(s||(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+Yd>Date.now()))return s;const{data:n,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Ir("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),s=n.keys.find(o=>o.kid===t),!s)throw new Ir("No matching signing key found in JWKS");return s}async getClaims(t,r={keys:[]}){try{let s=t;if(!s){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};s=p.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=on(s);if(bf(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:n,signature:o},error:null}}const u=Ef(n.alg),c=await this.fetchJwk(n.kid,r),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,lf(`${a}.${l}`)))throw new Ir("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}}zr.nextInstanceID=0;const Mf=zr;class Nf extends Mf{constructor(t){super(t)}}var Ff=function(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((s=s.apply(e,t||[])).next())})};class Bf{constructor(t,r,s){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=Kd(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Dd,realtime:Nd,auth:Object.assign(Object.assign({},Md),{storageKey:l}),global:Ud},c=zd(s??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Vd(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new nd(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Hh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $d(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Ff(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nf({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new yd(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qf=(e,t,r)=>new Bf(e,t,r),al="https://hdflnwlqjcrewtegduvy.supabase.co",ll="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhkZmxud2xxamNyZXd0ZWdkdXZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM0MTkwMzksImV4cCI6MjA1ODk5NTAzOX0.Ky_lkJNMg6GwCodfNzooR0N84a6cQ5w4tDr3VOik-W4";console.log("Initializing Supabase client with:",{url:al,key:ll.substring(0,10)+"..."});const J=qf(al,ll,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:localStorage,storageKey:"supabase.auth.token",flowType:"pkce"},global:{headers:{"x-client-info":"supabase-js-v2"}},realtime:{params:{eventsPerSecond:10}}}),Pg={PROFILES:"profiles",PROJECTS:"projects",PROJECT_FILES:"project_files"},st={PROFILES:"profiles",PROJECTS:"projects",PROJECT_FILES:"project_files",PROJECT_COLLABORATORS:"project_collaborators"},Ur=se(null),Dr=se(null),Ae=se(!1),xe=se(null),Vf=async()=>{var e;try{const{data:{session:t},error:r}=await J.auth.getSession();if(r){console.error("Error getting session:",r);return}t?(console.log("Initial session found:",{user:(e=t.user)==null?void 0:e.id,expires_at:t.expires_at,access_token:t.access_token?"present":"missing",refresh_token:t.refresh_token?"present":"missing"}),Dr.value=t,Ur.value=t.user,await xo(t.user)):console.log("No initial session found");const{data:{subscription:s}}=J.auth.onAuthStateChange(async(n,i)=>{var o;console.log("Auth state changed:",n,{session:i?{user:(o=i.user)==null?void 0:o.id,expires_at:i.expires_at,access_token:i.access_token?"present":"missing",refresh_token:i.refresh_token?"present":"missing"}:null}),i?(Dr.value=i,Ur.value=i.user,n==="SIGNED_IN"&&await xo(i.user)):(Dr.value=null,Ur.value=null)});return()=>{s.unsubscribe()}}catch(t){console.error("Error initializing auth:",t)}},xo=async e=>{var t,r,s,n;if(!e)return console.log("No user data provided to ensureUserProfile"),null;try{console.log("Checking for existing profile for user:",e.id);const{data:i,error:o}=await J.from(st.PROFILES).select("*").eq("id",e.id);if(o)return console.error("Error checking profile:",o),o.code==="PGRST301"&&console.error("This may be an RLS policy issue - please check your database policies"),null;if(console.log("Profile check result:",i),!i||i.length===0){console.log("No existing profile found, creating new profile...");const a={id:e.id,display_name:((t=e.user_metadata)==null?void 0:t.full_name)||((r=e.email)==null?void 0:r.split("@")[0]),email:e.email,avatar_url:(s=e.user_metadata)==null?void 0:s.avatar_url,bio:((n=e.user_metadata)==null?void 0:n.bio)||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Profile data to insert:",a);const{data:l,error:u}=await J.from(st.PROFILES).insert([a]).select();return u?(console.error("Error creating profile:",u),u.code==="PGRST301"&&console.error("This may be an RLS policy issue - please check your database policies"),null):(console.log("Profile created successfully:",l),l[0])}return console.log("Existing profile found:",i[0]),i[0]}catch(i){return console.error("Error ensuring user profile:",i),null}};Vf();function Yr(){return{user:Ur,session:Dr,error:xe,loading:Ae,registerUser:async(o,a,l)=>{Ae.value=!0,xe.value=null;try{console.log("Starting user registration for:",o);const{data:u,error:c}=await J.auth.signUp({email:o,password:a,options:{data:{full_name:l},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(c)throw console.error("Error during sign up:",c),c;if(!u.user)throw console.error("No user data returned from sign up"),new Error("Registration failed - no user data");console.log("User registered successfully:",{id:u.user.id,email:u.user.email,metadata:u.user.user_metadata,confirmation_sent_at:u.user.confirmation_sent_at}),console.log("Creating profile for new user:",u.user.id);const{error:h}=await J.from(st.PROFILES).insert([{id:u.user.id,display_name:l,email:o,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);return h&&console.error("Error creating profile:",h),u.user.confirmation_sent_at?{user:u.user,message:"Please check your email for a verification link to complete your registration."}:{user:u.user,message:"Registration successful! You can now sign in."}}catch(u){throw console.error("Registration process failed:",u),xe.value=u.message,u}finally{Ae.value=!1}},loginWithEmail:async(o,a)=>{Ae.value=!0,xe.value=null;try{const{data:l,error:u}=await J.auth.signInWithPassword({email:o,password:a});if(u)throw u;return l.user}catch(l){throw xe.value=l.message,l}finally{Ae.value=!1}},loginWithGoogle:async()=>{Ae.value=!0,xe.value=null;try{const{data:o,error:a}=await J.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin,queryParams:{access_type:"offline",prompt:"consent"}}});if(a)throw a;return o}catch(o){throw xe.value=o.message,o}finally{Ae.value=!1}},logout:async()=>{Ae.value=!0,xe.value=null;try{const{error:o}=await J.auth.signOut();if(o)throw o;Ur.value=null,Dr.value=null,localStorage.removeItem("provider_token"),localStorage.removeItem("provider_refresh_token"),window.location.reload()}catch(o){throw xe.value=o.message,o}finally{Ae.value=!1}},resetPassword:async o=>{Ae.value=!0,xe.value=null;try{const{error:a}=await J.auth.resetPasswordForEmail(o,{redirectTo:`${window.location.origin}/reset-password`});if(a)throw a}catch(a){throw xe.value=a.message,a}finally{Ae.value=!1}},updatePassword:async o=>{Ae.value=!0,xe.value=null;try{const{error:a}=await J.auth.updateUser({password:o});if(a)throw a}catch(a){throw xe.value=a.message,a}finally{Ae.value=!1}}}}function Hf(){const{user:e}=Yr(),t=se(null),r=se([]),s=se(!1),n=se(null);return{profile:t,projects:r,loading:s,error:n,fetchProfile:async c=>{if(!c)return n.value="No user ID provided",null;s.value=!0,n.value=null;try{const{data:h,error:d}=await J.from(st.PROFILES).select("*").eq("id",c);if(d)throw d;return h[0]}catch(h){return console.error("Error fetching profile:",h),n.value=h.message,null}finally{s.value=!1}},updateProfile:async(c,h)=>{if(!c)return n.value="No user ID provided",null;s.value=!0,n.value=null;try{const{data:d,error:p}=await J.from(st.PROFILES).update({...h,updated_at:new Date().toISOString()}).eq("id",c).select();if(p)throw p;return d[0]}catch(d){return console.error("Error updating profile:",d),n.value=d.message,null}finally{s.value=!1}},fetchUserProjects:async()=>{if(e.value)try{s.value=!0,n.value=null,console.log("Fetching projects for user:",e.value.id);const{data:c,error:h}=await J.from(st.PROJECTS).select(`
          *,
          ${st.PROJECT_FILES} (
            id,
            name,
            file_type,
            size_bytes
          )
        `).eq("owner_id",e.value.id).order("created_at",{ascending:!1});if(h)throw console.error("Error fetching owned projects:",h),h;console.log("Owned projects:",c);const{data:d,error:p}=await J.from(st.PROJECT_COLLABORATORS).select(`
          role,
          projects:project_id (
            *,
            ${st.PROJECT_FILES} (
              id,
              name,
              file_type,
              size_bytes
            )
          )
        `).eq("user_id",e.value.id);if(p)throw console.error("Error fetching collaborative projects:",p),p;console.log("Collaboration projects:",d);const m=(d==null?void 0:d.map(w=>w.projects?{...w.projects,role:w.role}:null).filter(Boolean))||[];r.value=[...(c||[]).map(w=>({...w,role:"owner"})),...m].sort((w,v)=>new Date(v.created_at)-new Date(w.created_at)),console.log("Combined projects:",r.value)}catch(c){console.error("Error fetching user projects:",c),n.value="Failed to load projects"}finally{s.value=!1}},uploadProjectFile:async(c,h)=>{if(!e.value||!h)return null;s.value=!0,n.value=null;try{const d=c.name.split(".").pop(),p=`${Math.random().toString(36).substring(2)}.${d}`,m=`${e.value.id}/${h}/${p}`,{error:w}=await J.storage.from("project-files").upload(m,c);if(w)throw w;const{error:v}=await J.from("project_files").insert([{project_id:h,file_name:c.name,file_path:m,file_type:c.type,file_size:c.size,uploaded_by:e.value.id}]);if(v)throw v;return m}catch(d){throw n.value=d.message,d}finally{s.value=!1}},deleteProjectFile:async c=>{if(!e.value)return null;s.value=!0,n.value=null;try{const{error:h}=await J.storage.from("project-files").remove([c]);if(h)throw h;const{error:d}=await J.from("project_files").delete().eq("file_path",c);if(d)throw d}catch(h){throw n.value=h.message,h}finally{s.value=!1}}}}const ht={PROJECTS:"projects",PROJECT_COLLABORATORS:"project_collaborators",PROJECT_FILES:"project_files",PROJECT_UPDATES:"project_updates"};function Kf(){const{user:e}=Yr(),t=se(!1),r=se(null);return{loading:t,error:r,fetchUserProjects:async o=>{if(!o)return r.value="No user ID provided",null;t.value=!0,r.value=null;try{const{data:a,error:l}=await J.from(ht.PROJECTS).select("*").eq("owner_id",o);if(l)throw l;const{data:u,error:c}=await J.from(ht.PROJECT_COLLABORATORS).select("project_id, role").eq("user_id",o);if(c)throw c;const h=(u||[]).map(v=>v.project_id);let d=[];if(h.length>0){const{data:v,error:k}=await J.from(ht.PROJECTS).select("*").in("id",h);if(k)throw k;d=v||[]}const p=[...(a||[]).map(v=>v.id),...d.map(v=>v.id)];let m=[];if(p.length>0){const{data:v,error:k}=await J.from(ht.PROJECT_FILES).select("*").in("project_id",p);if(k)throw k;m=v||[]}return[...(a||[]).map(v=>({...v,role:"owner",files:m.filter(k=>k.project_id===v.id)})),...d.map(v=>{var k;return{...v,role:((k=u.find(C=>C.project_id===v.id))==null?void 0:k.role)||"viewer",files:m.filter(C=>C.project_id===v.id)}})].sort((v,k)=>new Date(k.created_at)-new Date(v.created_at))}catch(a){return console.error("Error fetching user projects:",a),r.value=a.message,null}finally{t.value=!1}},createProject:async o=>{var a;if(!e.value)return r.value="You must be logged in to create a project",null;t.value=!0,r.value=null;try{const{data:l,error:u}=await J.from(ht.PROJECTS).insert({name:o.name||"Untitled Project",description:o.description||"",owner_id:e.value.id,is_public:o.is_public||!1,version:"0.1.0",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(u)throw console.error("Project creation error:",u),u;if(console.log("Project created successfully:",l),((a=o.collaborators)==null?void 0:a.length)>0){const c=o.collaborators.map(d=>({project_id:l.id,user_id:d.id,role:d.role||"viewer",created_at:new Date().toISOString()})),{error:h}=await J.from(ht.PROJECT_COLLABORATORS).insert(c);h&&(console.error("Collaborator addition error:",h),r.value="Project created but failed to add collaborators")}return l}catch(l){return console.error("Error creating project:",l),r.value=l.message||"Failed to create project",null}finally{t.value=!1}},hasProjectAccess:async(o,a)=>{if(!o||!a)return!1;try{const{data:l}=await J.from(ht.PROJECTS).select("owner_id").eq("id",o).single();if((l==null?void 0:l.owner_id)===a)return!0;const{data:u}=await J.from(ht.PROJECT_COLLABORATORS).select("role").eq("project_id",o).eq("user_id",a).single();return!!u}catch(l){return console.error("Error checking project access:",l),!1}}}}function zf(){const{user:e}=Yr(),t=se([]),r=se(!1),s=se(null);return{searchResults:t,loading:r,error:s,searchUsers:async i=>{var o;if(!i||i.length<2){t.value=[];return}try{r.value=!0,s.value=null;const{data:a,error:l}=await J.from("profiles").select("id, display_name, email, avatar_url").or(`display_name.ilike.%${i}%,email.ilike.%${i}%`).neq("id",(o=e.value)==null?void 0:o.id).limit(5);if(l)throw l;t.value=a||[]}catch(a){console.error("Error searching users:",a),s.value="Failed to search users"}finally{r.value=!1}}}}const Vs=(e,t)=>{const r=e.__vccOpts||e;for(const[s,n]of t)r[s]=n;return r},De=e=>(Jn("data-v-1e32fa82"),e=e(),Wn(),e),Jf=De(()=>R("h2",null,"New Project",-1)),Wf={class:"form-group"},Gf=De(()=>R("label",{for:"project-name"},"Project Name",-1)),Qf={class:"form-group"},Yf=De(()=>R("label",{for:"project-description"},"Description",-1)),Xf={class:"form-group"},Zf=De(()=>R("label",{for:"project-version"},"Version",-1)),ep=De(()=>R("small",{class:"version-hint"},"Version number will automatically increment with each update",-1)),tp={class:"form-group"},rp=De(()=>R("label",null,"Collaborators",-1)),sp={class:"collaborator-search"},np={key:0,class:"search-results"},ip={key:0,class:"search-loading"},op=["onClick"],ap={class:"user-info"},lp={class:"user-avatar"},cp=["src","alt"],up={key:1,class:"avatar-placeholder"},hp={class:"user-details"},dp={class:"user-name"},fp={class:"user-email"},pp={key:0,class:"collaborators-list"},gp={class:"user-info"},_p={class:"user-avatar"},mp=["src","alt"],vp={key:1,class:"avatar-placeholder"},yp={class:"user-details"},wp={class:"user-name"},bp={class:"user-email"},Ep={class:"collaborator-actions"},Sp=["onUpdate:modelValue","onChange"],kp=De(()=>R("option",{value:"viewer"},"Viewer",-1)),Pp=De(()=>R("option",{value:"editor"},"Editor",-1)),Op=De(()=>R("option",{value:"admin"},"Admin",-1)),Tp=[kp,Pp,Op],Rp=["onClick"],Cp={class:"form-group"},Ap=De(()=>R("label",{for:"project-files"},"Project Files",-1)),xp={class:"file-upload-container"},jp=De(()=>R("div",{class:"file-upload-box"},[R("span",{class:"upload-icon"},"📎"),R("span",null,"Drop files here or click to upload")],-1)),$p={key:0,class:"file-list"},Ip=De(()=>R("button",{type:"submit",class:"btn btn-primary"},"Create Project",-1)),Lp={__name:"NewProjectModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close","submit"],setup(e,{emit:t}){const r=t,s=se({name:"",description:"",version:"0.1.0",files:[],collaborators:[]}),{searchResults:n,loading:i,searchUsers:o}=zf(),a=se(""),l=se(!1);let u;lr(a,C=>{clearTimeout(u),u=setTimeout(()=>{o(C)},300)});const c=(C,A="viewer")=>{s.value.collaborators.some(O=>O.id===C.id)||(s.value.collaborators.push({id:C.id,display_name:C.display_name,email:C.email,avatar_url:C.avatar_url,role:A}),a.value="",l.value=!1)},h=C=>{s.value.collaborators=s.value.collaborators.filter(A=>A.id!==C)},d=(C,A)=>{const O=s.value.collaborators.find(B=>B.id===C);O&&(O.role=A)},p=se(null),m=()=>{r("submit",{...s.value,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString()}),v()},w=C=>{const A=Array.from(C.target.files);s.value.files=A},v=()=>{s.value={name:"",description:"",version:"0.1.0",files:[],collaborators:[]},a.value="",p.value&&(p.value.value="")},k=()=>{v(),r("close")};return(C,A)=>e.isOpen?(te(),ie("div",{key:0,class:"modal-overlay",onClick:k},[R("div",{class:"modal-content card",onClick:A[5]||(A[5]=Ps(()=>{},["stop"]))},[R("div",{class:"modal-header"},[Jf,R("button",{class:"close-button",onClick:k},"×")]),R("form",{onSubmit:Ps(m,["prevent"]),class:"project-form"},[R("div",Wf,[Gf,yt(R("input",{id:"project-name","onUpdate:modelValue":A[0]||(A[0]=O=>s.value.name=O),type:"text",required:"",placeholder:"Enter project name"},null,512),[[Dt,s.value.name]])]),R("div",Qf,[Yf,yt(R("textarea",{id:"project-description","onUpdate:modelValue":A[1]||(A[1]=O=>s.value.description=O),required:"",placeholder:"Describe your project",rows:"4"},null,512),[[Dt,s.value.description]])]),R("div",Xf,[Zf,yt(R("input",{id:"project-version","onUpdate:modelValue":A[2]||(A[2]=O=>s.value.version=O),type:"text",readonly:"",class:"version-input"},null,512),[[Dt,s.value.version]]),ep]),R("div",tp,[rp,R("div",sp,[yt(R("input",{type:"text","onUpdate:modelValue":A[3]||(A[3]=O=>a.value=O),placeholder:"Search users by name or email",onFocus:A[4]||(A[4]=O=>l.value=!0)},null,544),[[Dt,a.value]]),l.value&&(Ie(n).length>0||Ie(i))?(te(),ie("div",np,[Ie(i)?(te(),ie("div",ip," Searching... ")):(te(!0),ie(we,{key:1},ps(Ie(n),O=>{var B,F;return te(),ie("div",{key:O.id,class:"search-result-item",onClick:le=>c(O)},[R("div",ap,[R("div",lp,[O.avatar_url?(te(),ie("img",{key:0,src:O.avatar_url,alt:O.display_name,referrerpolicy:"no-referrer"},null,8,cp)):(te(),ie("div",up,ge((F=(B=O.display_name)==null?void 0:B[0])==null?void 0:F.toUpperCase()),1))]),R("div",hp,[R("div",dp,ge(O.display_name),1),R("div",fp,ge(O.email),1)])])],8,op)}),128))])):Ut("",!0)]),s.value.collaborators.length>0?(te(),ie("div",pp,[(te(!0),ie(we,null,ps(s.value.collaborators,O=>{var B,F;return te(),ie("div",{key:O.id,class:"collaborator-item"},[R("div",gp,[R("div",_p,[O.avatar_url?(te(),ie("img",{key:0,src:O.avatar_url,alt:O.display_name,referrerpolicy:"no-referrer"},null,8,mp)):(te(),ie("div",vp,ge((F=(B=O.display_name)==null?void 0:B[0])==null?void 0:F.toUpperCase()),1))]),R("div",yp,[R("div",wp,ge(O.display_name),1),R("div",bp,ge(O.email),1)])]),R("div",Ep,[yt(R("select",{"onUpdate:modelValue":le=>O.role=le,onChange:le=>d(O.id,le.target.value)},Tp,40,Sp),[[Pu,O.role]]),R("button",{type:"button",class:"remove-collaborator",onClick:le=>h(O.id)}," × ",8,Rp)])])}),128))])):Ut("",!0)]),R("div",Cp,[Ap,R("div",xp,[R("input",{id:"project-files",type:"file",ref_key:"fileInputRef",ref:p,onChange:w,multiple:"",class:"file-input"},null,544),jp]),s.value.files.length?(te(),ie("div",$p,[(te(!0),ie(we,null,ps(s.value.files,O=>(te(),ie("div",{key:O.name,class:"file-item"},[R("span",null,ge(O.name),1),R("small",null,ge((O.size/1024).toFixed(1))+" KB",1)]))),128))])):Ut("",!0)]),R("div",{class:"form-actions"},[R("button",{type:"button",class:"btn btn-secondary",onClick:k},"Cancel"),Ip])],32)])])):Ut("",!0)}},Up=Vs(Lp,[["__scopeId","data-v-1e32fa82"]]),Hs=e=>(Jn("data-v-c7a8c34b"),e=e(),Wn(),e),Dp={class:"modal-header"},Mp={key:0,class:"error-message"},Np={key:1,class:"form-group"},Fp=Hs(()=>R("label",{for:"display-name"},"Display Name",-1)),Bp={class:"form-group"},qp=Hs(()=>R("label",{for:"email"},"Email",-1)),Vp={class:"form-group"},Hp=Hs(()=>R("label",{for:"password"},"Password",-1)),Kp={class:"form-actions"},zp=["disabled"],Jp=Hs(()=>R("div",{class:"divider"},[R("span",null,"or")],-1)),Wp=["disabled"],Gp={class:"toggle-mode"},Qp={__name:"AuthModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close"],setup(e,{emit:t}){const r=t,{loginWithEmail:s,loginWithGoogle:n,registerUser:i,loading:o}=Yr(),a=se(!1),l=se(""),u=se(""),c=se(""),h=se(""),d=async()=>{h.value="";try{if(a.value){const v=await i(l.value,u.value,c.value);if(v.message){h.value=v.message;return}}else await s(l.value,u.value);r("close")}catch(v){h.value=v.message}},p=async()=>{h.value="";try{await n(),r("close")}catch(v){h.value=v.message}},m=()=>{a.value=!a.value,h.value="",l.value="",u.value="",c.value=""},w=()=>{l.value="",u.value="",c.value="",h.value="",r("close")};return(v,k)=>e.isOpen?(te(),ie("div",{key:0,class:"modal-overlay",onClick:w},[R("div",{class:"modal-content card",onClick:k[3]||(k[3]=Ps(()=>{},["stop"]))},[R("div",Dp,[R("h2",null,ge(a.value?"Create Account":"Sign In"),1),R("button",{class:"close-button",onClick:w},"×")]),R("form",{onSubmit:Ps(d,["prevent"]),class:"auth-form"},[h.value?(te(),ie("div",Mp,ge(h.value),1)):Ut("",!0),a.value?(te(),ie("div",Np,[Fp,yt(R("input",{id:"display-name","onUpdate:modelValue":k[0]||(k[0]=C=>c.value=C),type:"text",required:"",placeholder:"Enter your name"},null,512),[[Dt,c.value]])])):Ut("",!0),R("div",Bp,[qp,yt(R("input",{id:"email","onUpdate:modelValue":k[1]||(k[1]=C=>l.value=C),type:"email",required:"",placeholder:"Enter your email"},null,512),[[Dt,l.value]])]),R("div",Vp,[Hp,yt(R("input",{id:"password","onUpdate:modelValue":k[2]||(k[2]=C=>u.value=C),type:"password",required:"",placeholder:"Enter your password"},null,512),[[Dt,u.value]])]),R("div",Kp,[R("button",{type:"submit",class:"btn btn-primary",disabled:Ie(o)},ge(a.value?"Create Account":"Sign In"),9,zp)]),Jp,R("button",{type:"button",class:"btn btn-google",onClick:p,disabled:Ie(o)}," Continue with Google ",8,Wp),R("p",Gp,[Ss(ge(a.value?"Already have an account?":"Don't have an account?")+" ",1),R("button",{type:"button",class:"toggle-button",onClick:m},ge(a.value?"Sign In":"Create one"),1)])],32)])])):Ut("",!0)}},Yp=Vs(Qp,[["__scopeId","data-v-c7a8c34b"]]),cl=e=>(Jn("data-v-52955a46"),e=e(),Wn(),e),Xp={class:"nav-container"},Zp={class:"container flex items-center justify-between"},eg={class:"nav-brand"},tg=cl(()=>R("h1",{class:"brand-text"},"equipt.",-1)),rg={class:"nav-items"},sg={class:"nav-actions"},ng=cl(()=>R("span",{class:"icon"},"+",-1)),ig={class:"user-menu"},og={key:0,class:"avatar"},ag=["src","alt"],lg={key:1,class:"avatar-placeholder"},cg={class:"user-name"},ug={__name:"Navigation",setup(e){const{user:t}=Yr(),{profile:r,fetchProfile:s}=Hf(),{createProject:n}=Kf();lr(()=>{var p;return(p=t.value)==null?void 0:p.id},async p=>{p&&await s()},{immediate:!0}),Gn(async()=>{const{data:{session:p}}=await J.auth.getSession();p!=null&&p.user&&await s()});const i=se([{name:"Projects",path:"/projects"},{name:"Explore",path:"/explore"},{name:"Showcase",path:"/showcase"}]),o=Pe(()=>{const p=[...i.value];return t.value&&p.splice(1,0,{name:"Files",path:"/files"}),p}),a=se(!1),l=se(!1),u=Pe(()=>{var p,m,w,v;return t.value?((p=r.value)==null?void 0:p.display_name)||((m=t.value.user_metadata)==null?void 0:m.full_name)||((w=t.value.user_metadata)==null?void 0:w.name)||((v=t.value.email)==null?void 0:v.split("@")[0])||"User":""}),c=Pe(()=>{var p,m,w;return t.value&&(((p=r.value)==null?void 0:p.avatar_url)||((m=t.value.user_metadata)==null?void 0:m.avatar_url)||((w=t.value.user_metadata)==null?void 0:w.picture))||null}),h=async p=>{if(!t.value){l.value=!0;return}try{console.log("Creating project with data:",p);const m=await n(p,t.value.id);console.log("Project creation result:",m),a.value=!1}catch(m){console.error("Failed to create project:",m)}},d=async()=>{try{const{error:p}=await J.auth.signOut();if(p)throw p;localStorage.removeItem("provider_token"),localStorage.removeItem("provider_refresh_token"),window.location.reload()}catch(p){console.error("Logout error:",p)}};return(p,m)=>{const w=la("router-link");return te(),ie(we,null,[R("nav",Xp,[R("div",Zp,[R("div",eg,[ce(w,{to:"/",class:"brand-link"},{default:ds(()=>[tg]),_:1})]),R("div",rg,[(te(!0),ie(we,null,ps(o.value,v=>(te(),Oa(w,{key:v.path,to:v.path,class:"nav-item"},{default:ds(()=>[Ss(ge(v.name),1)]),_:2},1032,["to"]))),128))]),R("div",sg,[Ie(t)?(te(),ie(we,{key:0},[R("button",{class:"btn btn-primary new-project-btn",onClick:m[0]||(m[0]=v=>a.value=!0)},[ng,Ss(" New Project ")]),R("div",ig,[ce(w,{to:"/profile",class:"user-profile"},{default:ds(()=>{var v;return[c.value?(te(),ie("div",og,[R("img",{src:c.value,alt:u.value,referrerpolicy:"no-referrer"},null,8,ag)])):(te(),ie("div",lg,ge((v=u.value[0])==null?void 0:v.toUpperCase()),1)),R("span",cg,ge(u.value),1)]}),_:1}),R("button",{class:"btn btn-secondary",onClick:d}," Sign Out ")])],64)):(te(),ie("button",{key:1,class:"btn btn-primary",onClick:m[1]||(m[1]=v=>l.value=!0)}," Sign In "))])])]),ce(Up,{"is-open":a.value,onClose:m[2]||(m[2]=v=>a.value=!1),onSubmit:h},null,8,["is-open"]),ce(Yp,{"is-open":l.value,onClose:m[3]||(m[3]=v=>l.value=!1)},null,8,["is-open"])],64)}}},hg=Vs(ug,[["__scopeId","data-v-52955a46"]]),dg={class:"app"},fg={class:"main-content"},pg={__name:"App",setup(e){const t=Uh();return Gn(async()=>{try{const{data:{session:r}}=await J.auth.getSession();if(window.location.hash&&window.location.hash.includes("access_token")){console.log("Found access token in hash");const s=new URLSearchParams(window.location.hash.substring(1)),n=s.get("access_token"),i=s.get("refresh_token"),o=s.get("provider_token"),a=s.get("provider_refresh_token");if(n)try{console.log("Setting session with tokens:",{access_token:n.substring(0,10)+"...",refresh_token:i?"present":"missing",provider_token:o?"present":"missing"}),o&&localStorage.setItem("provider_token",o),a&&localStorage.setItem("provider_refresh_token",a);const{data:{session:l},error:u}=await J.auth.setSession({access_token:n,refresh_token:i});if(u)throw console.error("Error setting session:",u),u;console.log("Session set successfully:",l),window.location.hash="",t.push("/")}catch(l){console.error("Error in OAuth callback:",l),console.error("Error details:",{name:l.name,message:l.message,stack:l.stack})}}}catch(r){console.error("Error in App setup:",r)}}),(r,s)=>{const n=la("router-view");return te(),ie("div",dg,[ce(hg),R("main",fg,[ce(n)])])}}},gg=Vs(pg,[["__scopeId","data-v-79b1d238"]]),_g=[{path:"/",name:"Home",component:()=>$e(()=>import("./HomePage-Cmusl6Bb.js"),__vite__mapDeps([0,1]),import.meta.url)},{path:"/profile",name:"Profile",component:()=>$e(()=>import("./ProfilePage-DNa9Kxgj.js"),__vite__mapDeps([2,3,4,5]),import.meta.url),meta:{requiresAuth:!0}},{path:"/projects",name:"Projects",component:()=>$e(()=>import("./ProjectsPage-HhW5X_8o.js"),__vite__mapDeps([6,7]),import.meta.url)},{path:"/projects/:id",name:"ProjectDetails",component:()=>$e(()=>import("./ProjectDetails-CYmXp3bP.js"),__vite__mapDeps([8,3,4,9]),import.meta.url)},{path:"/files",name:"Files",component:()=>$e(()=>import("./FilesPage-B1P7VyJq.js"),__vite__mapDeps([10,3,4,11]),import.meta.url),meta:{requiresAuth:!0}},{path:"/explore",name:"Explore",component:()=>$e(()=>import("./ExplorePage-CXq2wVgM.js"),__vite__mapDeps([12,13]),import.meta.url)},{path:"/showcase",name:"Showcase",component:()=>$e(()=>import("./ShowcasePage-O3UFR43R.js"),__vite__mapDeps([14,15]),import.meta.url)}],ul=Ih({history:ch(),routes:_g});ul.beforeEach(async(e,t,r)=>{try{if(window.location.hash&&window.location.hash.includes("access_token")){const i=new URLSearchParams(window.location.hash.substring(1)),o=i.get("access_token"),a=i.get("refresh_token"),l=i.get("expires_in"),u=i.get("provider_token"),c=i.get("provider_refresh_token");if(o){const{data:{session:h},error:d}=await J.auth.setSession({access_token:o,refresh_token:a});if(!d&&h){u&&localStorage.setItem("provider_token",u),c&&localStorage.setItem("provider_refresh_token",c),window.location.hash="",window.location.reload();return}}}const{data:{session:s}}=await J.auth.getSession();e.matched.some(i=>i.meta.requiresAuth)&&!s?r("/"):r()}catch(s){console.error("Auth error:",s),r("/")}});const hl=Au(gg);hl.use(ul);hl.mount("#app");export{yg as A,In as B,Pu as C,mg as D,Kh as E,we as F,Pg as T,Vs as _,R as a,Ut as b,ie as c,Yr as d,Wn as e,Hf as f,Kf as g,Pe as h,Gn as i,Ps as j,ps as k,ce as l,Ss as m,Ln as n,te as o,Jn as p,vg as q,se as r,J as s,ge as t,Ie as u,Dt as v,yt as w,Uh as x,zf as y,lr as z};
